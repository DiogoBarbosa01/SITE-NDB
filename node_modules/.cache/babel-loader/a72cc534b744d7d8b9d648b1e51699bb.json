{"ast":null,"code":"import { g as getDocument } from '../shared/ssr-window.esm.mjs';\nimport { a as setCSSProperty, e as elementChildren, s as setInnerHTML, c as createElement } from '../shared/utils.mjs';\n\nfunction Virtual(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on,\n    emit\n  } = _ref;\n  extendParams({\n    virtual: {\n      enabled: false,\n      slides: [],\n      cache: true,\n      renderSlide: null,\n      renderExternal: null,\n      renderExternalUpdate: true,\n      addSlidesBefore: 0,\n      addSlidesAfter: 0\n    }\n  });\n  let cssModeTimeout;\n  const document = getDocument();\n  swiper.virtual = {\n    cache: {},\n    from: undefined,\n    to: undefined,\n    slides: [],\n    offset: 0,\n    slidesGrid: []\n  };\n  const tempDOM = document.createElement('div');\n\n  function renderSlide(slide, index) {\n    const params = swiper.params.virtual;\n\n    if (params.cache && swiper.virtual.cache[index]) {\n      return swiper.virtual.cache[index];\n    } // eslint-disable-next-line\n\n\n    let slideEl;\n\n    if (params.renderSlide) {\n      slideEl = params.renderSlide.call(swiper, slide, index);\n\n      if (typeof slideEl === 'string') {\n        setInnerHTML(tempDOM, slideEl);\n        slideEl = tempDOM.children[0];\n      }\n    } else if (swiper.isElement) {\n      slideEl = createElement('swiper-slide');\n    } else {\n      slideEl = createElement('div', swiper.params.slideClass);\n    }\n\n    slideEl.setAttribute('data-swiper-slide-index', index);\n\n    if (!params.renderSlide) {\n      setInnerHTML(slideEl, slide);\n    }\n\n    if (params.cache) {\n      swiper.virtual.cache[index] = slideEl;\n    }\n\n    return slideEl;\n  }\n\n  function update(force, beforeInit, forceActiveIndex) {\n    const {\n      slidesPerView,\n      slidesPerGroup,\n      centeredSlides,\n      loop: isLoop,\n      initialSlide\n    } = swiper.params;\n\n    if (beforeInit && !isLoop && initialSlide > 0) {\n      return;\n    }\n\n    const {\n      addSlidesBefore,\n      addSlidesAfter\n    } = swiper.params.virtual;\n    const {\n      from: previousFrom,\n      to: previousTo,\n      slides,\n      slidesGrid: previousSlidesGrid,\n      offset: previousOffset\n    } = swiper.virtual;\n\n    if (!swiper.params.cssMode) {\n      swiper.updateActiveIndex();\n    }\n\n    const activeIndex = typeof forceActiveIndex === 'undefined' ? swiper.activeIndex || 0 : forceActiveIndex;\n    let offsetProp;\n    if (swiper.rtlTranslate) offsetProp = 'right';else offsetProp = swiper.isHorizontal() ? 'left' : 'top';\n    let slidesAfter;\n    let slidesBefore;\n\n    if (centeredSlides) {\n      slidesAfter = Math.floor(slidesPerView / 2) + slidesPerGroup + addSlidesAfter;\n      slidesBefore = Math.floor(slidesPerView / 2) + slidesPerGroup + addSlidesBefore;\n    } else {\n      slidesAfter = slidesPerView + (slidesPerGroup - 1) + addSlidesAfter;\n      slidesBefore = (isLoop ? slidesPerView : slidesPerGroup) + addSlidesBefore;\n    }\n\n    let from = activeIndex - slidesBefore;\n    let to = activeIndex + slidesAfter;\n\n    if (!isLoop) {\n      from = Math.max(from, 0);\n      to = Math.min(to, slides.length - 1);\n    }\n\n    let offset = (swiper.slidesGrid[from] || 0) - (swiper.slidesGrid[0] || 0);\n\n    if (isLoop && activeIndex >= slidesBefore) {\n      from -= slidesBefore;\n      if (!centeredSlides) offset += swiper.slidesGrid[0];\n    } else if (isLoop && activeIndex < slidesBefore) {\n      from = -slidesBefore;\n      if (centeredSlides) offset += swiper.slidesGrid[0];\n    }\n\n    Object.assign(swiper.virtual, {\n      from,\n      to,\n      offset,\n      slidesGrid: swiper.slidesGrid,\n      slidesBefore,\n      slidesAfter\n    });\n\n    function onRendered() {\n      swiper.updateSlides();\n      swiper.updateProgress();\n      swiper.updateSlidesClasses();\n      emit('virtualUpdate');\n    }\n\n    if (previousFrom === from && previousTo === to && !force) {\n      if (swiper.slidesGrid !== previousSlidesGrid && offset !== previousOffset) {\n        swiper.slides.forEach(slideEl => {\n          slideEl.style[offsetProp] = `${offset - Math.abs(swiper.cssOverflowAdjustment())}px`;\n        });\n      }\n\n      swiper.updateProgress();\n      emit('virtualUpdate');\n      return;\n    }\n\n    if (swiper.params.virtual.renderExternal) {\n      swiper.params.virtual.renderExternal.call(swiper, {\n        offset,\n        from,\n        to,\n        slides: function getSlides() {\n          const slidesToRender = [];\n\n          for (let i = from; i <= to; i += 1) {\n            slidesToRender.push(slides[i]);\n          }\n\n          return slidesToRender;\n        }()\n      });\n\n      if (swiper.params.virtual.renderExternalUpdate) {\n        onRendered();\n      } else {\n        emit('virtualUpdate');\n      }\n\n      return;\n    }\n\n    const prependIndexes = [];\n    const appendIndexes = [];\n\n    const getSlideIndex = index => {\n      let slideIndex = index;\n\n      if (index < 0) {\n        slideIndex = slides.length + index;\n      } else if (slideIndex >= slides.length) {\n        // eslint-disable-next-line\n        slideIndex = slideIndex - slides.length;\n      }\n\n      return slideIndex;\n    };\n\n    if (force) {\n      swiper.slides.filter(el => el.matches(`.${swiper.params.slideClass}, swiper-slide`)).forEach(slideEl => {\n        slideEl.remove();\n      });\n    } else {\n      for (let i = previousFrom; i <= previousTo; i += 1) {\n        if (i < from || i > to) {\n          const slideIndex = getSlideIndex(i);\n          swiper.slides.filter(el => el.matches(`.${swiper.params.slideClass}[data-swiper-slide-index=\"${slideIndex}\"], swiper-slide[data-swiper-slide-index=\"${slideIndex}\"]`)).forEach(slideEl => {\n            slideEl.remove();\n          });\n        }\n      }\n    }\n\n    const loopFrom = isLoop ? -slides.length : 0;\n    const loopTo = isLoop ? slides.length * 2 : slides.length;\n\n    for (let i = loopFrom; i < loopTo; i += 1) {\n      if (i >= from && i <= to) {\n        const slideIndex = getSlideIndex(i);\n\n        if (typeof previousTo === 'undefined' || force) {\n          appendIndexes.push(slideIndex);\n        } else {\n          if (i > previousTo) appendIndexes.push(slideIndex);\n          if (i < previousFrom) prependIndexes.push(slideIndex);\n        }\n      }\n    }\n\n    appendIndexes.forEach(index => {\n      swiper.slidesEl.append(renderSlide(slides[index], index));\n    });\n\n    if (isLoop) {\n      for (let i = prependIndexes.length - 1; i >= 0; i -= 1) {\n        const index = prependIndexes[i];\n        swiper.slidesEl.prepend(renderSlide(slides[index], index));\n      }\n    } else {\n      prependIndexes.sort((a, b) => b - a);\n      prependIndexes.forEach(index => {\n        swiper.slidesEl.prepend(renderSlide(slides[index], index));\n      });\n    }\n\n    elementChildren(swiper.slidesEl, '.swiper-slide, swiper-slide').forEach(slideEl => {\n      slideEl.style[offsetProp] = `${offset - Math.abs(swiper.cssOverflowAdjustment())}px`;\n    });\n    onRendered();\n  }\n\n  function appendSlide(slides) {\n    if (typeof slides === 'object' && 'length' in slides) {\n      for (let i = 0; i < slides.length; i += 1) {\n        if (slides[i]) swiper.virtual.slides.push(slides[i]);\n      }\n    } else {\n      swiper.virtual.slides.push(slides);\n    }\n\n    update(true);\n  }\n\n  function prependSlide(slides) {\n    const activeIndex = swiper.activeIndex;\n    let newActiveIndex = activeIndex + 1;\n    let numberOfNewSlides = 1;\n\n    if (Array.isArray(slides)) {\n      for (let i = 0; i < slides.length; i += 1) {\n        if (slides[i]) swiper.virtual.slides.unshift(slides[i]);\n      }\n\n      newActiveIndex = activeIndex + slides.length;\n      numberOfNewSlides = slides.length;\n    } else {\n      swiper.virtual.slides.unshift(slides);\n    }\n\n    if (swiper.params.virtual.cache) {\n      const cache = swiper.virtual.cache;\n      const newCache = {};\n      Object.keys(cache).forEach(cachedIndex => {\n        const cachedEl = cache[cachedIndex];\n        const cachedElIndex = cachedEl.getAttribute('data-swiper-slide-index');\n\n        if (cachedElIndex) {\n          cachedEl.setAttribute('data-swiper-slide-index', parseInt(cachedElIndex, 10) + numberOfNewSlides);\n        }\n\n        newCache[parseInt(cachedIndex, 10) + numberOfNewSlides] = cachedEl;\n      });\n      swiper.virtual.cache = newCache;\n    }\n\n    update(true);\n    swiper.slideTo(newActiveIndex, 0);\n  }\n\n  function removeSlide(slidesIndexes) {\n    if (typeof slidesIndexes === 'undefined' || slidesIndexes === null) return;\n    let activeIndex = swiper.activeIndex;\n\n    if (Array.isArray(slidesIndexes)) {\n      for (let i = slidesIndexes.length - 1; i >= 0; i -= 1) {\n        if (swiper.params.virtual.cache) {\n          delete swiper.virtual.cache[slidesIndexes[i]]; // shift cache indexes\n\n          Object.keys(swiper.virtual.cache).forEach(key => {\n            if (key > slidesIndexes) {\n              swiper.virtual.cache[key - 1] = swiper.virtual.cache[key];\n              swiper.virtual.cache[key - 1].setAttribute('data-swiper-slide-index', key - 1);\n              delete swiper.virtual.cache[key];\n            }\n          });\n        }\n\n        swiper.virtual.slides.splice(slidesIndexes[i], 1);\n        if (slidesIndexes[i] < activeIndex) activeIndex -= 1;\n        activeIndex = Math.max(activeIndex, 0);\n      }\n    } else {\n      if (swiper.params.virtual.cache) {\n        delete swiper.virtual.cache[slidesIndexes]; // shift cache indexes\n\n        Object.keys(swiper.virtual.cache).forEach(key => {\n          if (key > slidesIndexes) {\n            swiper.virtual.cache[key - 1] = swiper.virtual.cache[key];\n            swiper.virtual.cache[key - 1].setAttribute('data-swiper-slide-index', key - 1);\n            delete swiper.virtual.cache[key];\n          }\n        });\n      }\n\n      swiper.virtual.slides.splice(slidesIndexes, 1);\n      if (slidesIndexes < activeIndex) activeIndex -= 1;\n      activeIndex = Math.max(activeIndex, 0);\n    }\n\n    update(true);\n    swiper.slideTo(activeIndex, 0);\n  }\n\n  function removeAllSlides() {\n    swiper.virtual.slides = [];\n\n    if (swiper.params.virtual.cache) {\n      swiper.virtual.cache = {};\n    }\n\n    update(true);\n    swiper.slideTo(0, 0);\n  }\n\n  on('beforeInit', () => {\n    if (!swiper.params.virtual.enabled) return;\n    let domSlidesAssigned;\n\n    if (typeof swiper.passedParams.virtual.slides === 'undefined') {\n      const slides = [...swiper.slidesEl.children].filter(el => el.matches(`.${swiper.params.slideClass}, swiper-slide`));\n\n      if (slides && slides.length) {\n        swiper.virtual.slides = [...slides];\n        domSlidesAssigned = true;\n        slides.forEach((slideEl, slideIndex) => {\n          slideEl.setAttribute('data-swiper-slide-index', slideIndex);\n          swiper.virtual.cache[slideIndex] = slideEl;\n          slideEl.remove();\n        });\n      }\n    }\n\n    if (!domSlidesAssigned) {\n      swiper.virtual.slides = swiper.params.virtual.slides;\n    }\n\n    swiper.classNames.push(`${swiper.params.containerModifierClass}virtual`);\n    swiper.params.watchSlidesProgress = true;\n    swiper.originalParams.watchSlidesProgress = true;\n    update(false, true);\n  });\n  on('setTranslate', () => {\n    if (!swiper.params.virtual.enabled) return;\n\n    if (swiper.params.cssMode && !swiper._immediateVirtual) {\n      clearTimeout(cssModeTimeout);\n      cssModeTimeout = setTimeout(() => {\n        update();\n      }, 100);\n    } else {\n      update();\n    }\n  });\n  on('init update resize', () => {\n    if (!swiper.params.virtual.enabled) return;\n\n    if (swiper.params.cssMode) {\n      setCSSProperty(swiper.wrapperEl, '--swiper-virtual-size', `${swiper.virtualSize}px`);\n    }\n  });\n  Object.assign(swiper.virtual, {\n    appendSlide,\n    prependSlide,\n    removeSlide,\n    removeAllSlides,\n    update\n  });\n}\n\nexport { Virtual as default };","map":{"version":3,"names":["g","getDocument","a","setCSSProperty","e","elementChildren","s","setInnerHTML","c","createElement","Virtual","_ref","swiper","extendParams","on","emit","virtual","enabled","slides","cache","renderSlide","renderExternal","renderExternalUpdate","addSlidesBefore","addSlidesAfter","cssModeTimeout","document","from","undefined","to","offset","slidesGrid","tempDOM","slide","index","params","slideEl","call","children","isElement","slideClass","setAttribute","update","force","beforeInit","forceActiveIndex","slidesPerView","slidesPerGroup","centeredSlides","loop","isLoop","initialSlide","previousFrom","previousTo","previousSlidesGrid","previousOffset","cssMode","updateActiveIndex","activeIndex","offsetProp","rtlTranslate","isHorizontal","slidesAfter","slidesBefore","Math","floor","max","min","length","Object","assign","onRendered","updateSlides","updateProgress","updateSlidesClasses","forEach","style","abs","cssOverflowAdjustment","getSlides","slidesToRender","i","push","prependIndexes","appendIndexes","getSlideIndex","slideIndex","filter","el","matches","remove","loopFrom","loopTo","slidesEl","append","prepend","sort","b","appendSlide","prependSlide","newActiveIndex","numberOfNewSlides","Array","isArray","unshift","newCache","keys","cachedIndex","cachedEl","cachedElIndex","getAttribute","parseInt","slideTo","removeSlide","slidesIndexes","key","splice","removeAllSlides","domSlidesAssigned","passedParams","classNames","containerModifierClass","watchSlidesProgress","originalParams","_immediateVirtual","clearTimeout","setTimeout","wrapperEl","virtualSize","default"],"sources":["C:/Users/Diogo/Documents/GitHub/SITE-NDB/node_modules/swiper/modules/virtual.mjs"],"sourcesContent":["import { g as getDocument } from '../shared/ssr-window.esm.mjs';\r\nimport { a as setCSSProperty, e as elementChildren, s as setInnerHTML, c as createElement } from '../shared/utils.mjs';\r\n\r\nfunction Virtual(_ref) {\r\n  let {\r\n    swiper,\r\n    extendParams,\r\n    on,\r\n    emit\r\n  } = _ref;\r\n  extendParams({\r\n    virtual: {\r\n      enabled: false,\r\n      slides: [],\r\n      cache: true,\r\n      renderSlide: null,\r\n      renderExternal: null,\r\n      renderExternalUpdate: true,\r\n      addSlidesBefore: 0,\r\n      addSlidesAfter: 0\r\n    }\r\n  });\r\n  let cssModeTimeout;\r\n  const document = getDocument();\r\n  swiper.virtual = {\r\n    cache: {},\r\n    from: undefined,\r\n    to: undefined,\r\n    slides: [],\r\n    offset: 0,\r\n    slidesGrid: []\r\n  };\r\n  const tempDOM = document.createElement('div');\r\n  function renderSlide(slide, index) {\r\n    const params = swiper.params.virtual;\r\n    if (params.cache && swiper.virtual.cache[index]) {\r\n      return swiper.virtual.cache[index];\r\n    }\r\n    // eslint-disable-next-line\r\n    let slideEl;\r\n    if (params.renderSlide) {\r\n      slideEl = params.renderSlide.call(swiper, slide, index);\r\n      if (typeof slideEl === 'string') {\r\n        setInnerHTML(tempDOM, slideEl);\r\n        slideEl = tempDOM.children[0];\r\n      }\r\n    } else if (swiper.isElement) {\r\n      slideEl = createElement('swiper-slide');\r\n    } else {\r\n      slideEl = createElement('div', swiper.params.slideClass);\r\n    }\r\n    slideEl.setAttribute('data-swiper-slide-index', index);\r\n    if (!params.renderSlide) {\r\n      setInnerHTML(slideEl, slide);\r\n    }\r\n    if (params.cache) {\r\n      swiper.virtual.cache[index] = slideEl;\r\n    }\r\n    return slideEl;\r\n  }\r\n  function update(force, beforeInit, forceActiveIndex) {\r\n    const {\r\n      slidesPerView,\r\n      slidesPerGroup,\r\n      centeredSlides,\r\n      loop: isLoop,\r\n      initialSlide\r\n    } = swiper.params;\r\n    if (beforeInit && !isLoop && initialSlide > 0) {\r\n      return;\r\n    }\r\n    const {\r\n      addSlidesBefore,\r\n      addSlidesAfter\r\n    } = swiper.params.virtual;\r\n    const {\r\n      from: previousFrom,\r\n      to: previousTo,\r\n      slides,\r\n      slidesGrid: previousSlidesGrid,\r\n      offset: previousOffset\r\n    } = swiper.virtual;\r\n    if (!swiper.params.cssMode) {\r\n      swiper.updateActiveIndex();\r\n    }\r\n    const activeIndex = typeof forceActiveIndex === 'undefined' ? swiper.activeIndex || 0 : forceActiveIndex;\r\n    let offsetProp;\r\n    if (swiper.rtlTranslate) offsetProp = 'right';else offsetProp = swiper.isHorizontal() ? 'left' : 'top';\r\n    let slidesAfter;\r\n    let slidesBefore;\r\n    if (centeredSlides) {\r\n      slidesAfter = Math.floor(slidesPerView / 2) + slidesPerGroup + addSlidesAfter;\r\n      slidesBefore = Math.floor(slidesPerView / 2) + slidesPerGroup + addSlidesBefore;\r\n    } else {\r\n      slidesAfter = slidesPerView + (slidesPerGroup - 1) + addSlidesAfter;\r\n      slidesBefore = (isLoop ? slidesPerView : slidesPerGroup) + addSlidesBefore;\r\n    }\r\n    let from = activeIndex - slidesBefore;\r\n    let to = activeIndex + slidesAfter;\r\n    if (!isLoop) {\r\n      from = Math.max(from, 0);\r\n      to = Math.min(to, slides.length - 1);\r\n    }\r\n    let offset = (swiper.slidesGrid[from] || 0) - (swiper.slidesGrid[0] || 0);\r\n    if (isLoop && activeIndex >= slidesBefore) {\r\n      from -= slidesBefore;\r\n      if (!centeredSlides) offset += swiper.slidesGrid[0];\r\n    } else if (isLoop && activeIndex < slidesBefore) {\r\n      from = -slidesBefore;\r\n      if (centeredSlides) offset += swiper.slidesGrid[0];\r\n    }\r\n    Object.assign(swiper.virtual, {\r\n      from,\r\n      to,\r\n      offset,\r\n      slidesGrid: swiper.slidesGrid,\r\n      slidesBefore,\r\n      slidesAfter\r\n    });\r\n    function onRendered() {\r\n      swiper.updateSlides();\r\n      swiper.updateProgress();\r\n      swiper.updateSlidesClasses();\r\n      emit('virtualUpdate');\r\n    }\r\n    if (previousFrom === from && previousTo === to && !force) {\r\n      if (swiper.slidesGrid !== previousSlidesGrid && offset !== previousOffset) {\r\n        swiper.slides.forEach(slideEl => {\r\n          slideEl.style[offsetProp] = `${offset - Math.abs(swiper.cssOverflowAdjustment())}px`;\r\n        });\r\n      }\r\n      swiper.updateProgress();\r\n      emit('virtualUpdate');\r\n      return;\r\n    }\r\n    if (swiper.params.virtual.renderExternal) {\r\n      swiper.params.virtual.renderExternal.call(swiper, {\r\n        offset,\r\n        from,\r\n        to,\r\n        slides: function getSlides() {\r\n          const slidesToRender = [];\r\n          for (let i = from; i <= to; i += 1) {\r\n            slidesToRender.push(slides[i]);\r\n          }\r\n          return slidesToRender;\r\n        }()\r\n      });\r\n      if (swiper.params.virtual.renderExternalUpdate) {\r\n        onRendered();\r\n      } else {\r\n        emit('virtualUpdate');\r\n      }\r\n      return;\r\n    }\r\n    const prependIndexes = [];\r\n    const appendIndexes = [];\r\n    const getSlideIndex = index => {\r\n      let slideIndex = index;\r\n      if (index < 0) {\r\n        slideIndex = slides.length + index;\r\n      } else if (slideIndex >= slides.length) {\r\n        // eslint-disable-next-line\r\n        slideIndex = slideIndex - slides.length;\r\n      }\r\n      return slideIndex;\r\n    };\r\n    if (force) {\r\n      swiper.slides.filter(el => el.matches(`.${swiper.params.slideClass}, swiper-slide`)).forEach(slideEl => {\r\n        slideEl.remove();\r\n      });\r\n    } else {\r\n      for (let i = previousFrom; i <= previousTo; i += 1) {\r\n        if (i < from || i > to) {\r\n          const slideIndex = getSlideIndex(i);\r\n          swiper.slides.filter(el => el.matches(`.${swiper.params.slideClass}[data-swiper-slide-index=\"${slideIndex}\"], swiper-slide[data-swiper-slide-index=\"${slideIndex}\"]`)).forEach(slideEl => {\r\n            slideEl.remove();\r\n          });\r\n        }\r\n      }\r\n    }\r\n    const loopFrom = isLoop ? -slides.length : 0;\r\n    const loopTo = isLoop ? slides.length * 2 : slides.length;\r\n    for (let i = loopFrom; i < loopTo; i += 1) {\r\n      if (i >= from && i <= to) {\r\n        const slideIndex = getSlideIndex(i);\r\n        if (typeof previousTo === 'undefined' || force) {\r\n          appendIndexes.push(slideIndex);\r\n        } else {\r\n          if (i > previousTo) appendIndexes.push(slideIndex);\r\n          if (i < previousFrom) prependIndexes.push(slideIndex);\r\n        }\r\n      }\r\n    }\r\n    appendIndexes.forEach(index => {\r\n      swiper.slidesEl.append(renderSlide(slides[index], index));\r\n    });\r\n    if (isLoop) {\r\n      for (let i = prependIndexes.length - 1; i >= 0; i -= 1) {\r\n        const index = prependIndexes[i];\r\n        swiper.slidesEl.prepend(renderSlide(slides[index], index));\r\n      }\r\n    } else {\r\n      prependIndexes.sort((a, b) => b - a);\r\n      prependIndexes.forEach(index => {\r\n        swiper.slidesEl.prepend(renderSlide(slides[index], index));\r\n      });\r\n    }\r\n    elementChildren(swiper.slidesEl, '.swiper-slide, swiper-slide').forEach(slideEl => {\r\n      slideEl.style[offsetProp] = `${offset - Math.abs(swiper.cssOverflowAdjustment())}px`;\r\n    });\r\n    onRendered();\r\n  }\r\n  function appendSlide(slides) {\r\n    if (typeof slides === 'object' && 'length' in slides) {\r\n      for (let i = 0; i < slides.length; i += 1) {\r\n        if (slides[i]) swiper.virtual.slides.push(slides[i]);\r\n      }\r\n    } else {\r\n      swiper.virtual.slides.push(slides);\r\n    }\r\n    update(true);\r\n  }\r\n  function prependSlide(slides) {\r\n    const activeIndex = swiper.activeIndex;\r\n    let newActiveIndex = activeIndex + 1;\r\n    let numberOfNewSlides = 1;\r\n    if (Array.isArray(slides)) {\r\n      for (let i = 0; i < slides.length; i += 1) {\r\n        if (slides[i]) swiper.virtual.slides.unshift(slides[i]);\r\n      }\r\n      newActiveIndex = activeIndex + slides.length;\r\n      numberOfNewSlides = slides.length;\r\n    } else {\r\n      swiper.virtual.slides.unshift(slides);\r\n    }\r\n    if (swiper.params.virtual.cache) {\r\n      const cache = swiper.virtual.cache;\r\n      const newCache = {};\r\n      Object.keys(cache).forEach(cachedIndex => {\r\n        const cachedEl = cache[cachedIndex];\r\n        const cachedElIndex = cachedEl.getAttribute('data-swiper-slide-index');\r\n        if (cachedElIndex) {\r\n          cachedEl.setAttribute('data-swiper-slide-index', parseInt(cachedElIndex, 10) + numberOfNewSlides);\r\n        }\r\n        newCache[parseInt(cachedIndex, 10) + numberOfNewSlides] = cachedEl;\r\n      });\r\n      swiper.virtual.cache = newCache;\r\n    }\r\n    update(true);\r\n    swiper.slideTo(newActiveIndex, 0);\r\n  }\r\n  function removeSlide(slidesIndexes) {\r\n    if (typeof slidesIndexes === 'undefined' || slidesIndexes === null) return;\r\n    let activeIndex = swiper.activeIndex;\r\n    if (Array.isArray(slidesIndexes)) {\r\n      for (let i = slidesIndexes.length - 1; i >= 0; i -= 1) {\r\n        if (swiper.params.virtual.cache) {\r\n          delete swiper.virtual.cache[slidesIndexes[i]];\r\n          // shift cache indexes\r\n          Object.keys(swiper.virtual.cache).forEach(key => {\r\n            if (key > slidesIndexes) {\r\n              swiper.virtual.cache[key - 1] = swiper.virtual.cache[key];\r\n              swiper.virtual.cache[key - 1].setAttribute('data-swiper-slide-index', key - 1);\r\n              delete swiper.virtual.cache[key];\r\n            }\r\n          });\r\n        }\r\n        swiper.virtual.slides.splice(slidesIndexes[i], 1);\r\n        if (slidesIndexes[i] < activeIndex) activeIndex -= 1;\r\n        activeIndex = Math.max(activeIndex, 0);\r\n      }\r\n    } else {\r\n      if (swiper.params.virtual.cache) {\r\n        delete swiper.virtual.cache[slidesIndexes];\r\n        // shift cache indexes\r\n        Object.keys(swiper.virtual.cache).forEach(key => {\r\n          if (key > slidesIndexes) {\r\n            swiper.virtual.cache[key - 1] = swiper.virtual.cache[key];\r\n            swiper.virtual.cache[key - 1].setAttribute('data-swiper-slide-index', key - 1);\r\n            delete swiper.virtual.cache[key];\r\n          }\r\n        });\r\n      }\r\n      swiper.virtual.slides.splice(slidesIndexes, 1);\r\n      if (slidesIndexes < activeIndex) activeIndex -= 1;\r\n      activeIndex = Math.max(activeIndex, 0);\r\n    }\r\n    update(true);\r\n    swiper.slideTo(activeIndex, 0);\r\n  }\r\n  function removeAllSlides() {\r\n    swiper.virtual.slides = [];\r\n    if (swiper.params.virtual.cache) {\r\n      swiper.virtual.cache = {};\r\n    }\r\n    update(true);\r\n    swiper.slideTo(0, 0);\r\n  }\r\n  on('beforeInit', () => {\r\n    if (!swiper.params.virtual.enabled) return;\r\n    let domSlidesAssigned;\r\n    if (typeof swiper.passedParams.virtual.slides === 'undefined') {\r\n      const slides = [...swiper.slidesEl.children].filter(el => el.matches(`.${swiper.params.slideClass}, swiper-slide`));\r\n      if (slides && slides.length) {\r\n        swiper.virtual.slides = [...slides];\r\n        domSlidesAssigned = true;\r\n        slides.forEach((slideEl, slideIndex) => {\r\n          slideEl.setAttribute('data-swiper-slide-index', slideIndex);\r\n          swiper.virtual.cache[slideIndex] = slideEl;\r\n          slideEl.remove();\r\n        });\r\n      }\r\n    }\r\n    if (!domSlidesAssigned) {\r\n      swiper.virtual.slides = swiper.params.virtual.slides;\r\n    }\r\n    swiper.classNames.push(`${swiper.params.containerModifierClass}virtual`);\r\n    swiper.params.watchSlidesProgress = true;\r\n    swiper.originalParams.watchSlidesProgress = true;\r\n    update(false, true);\r\n  });\r\n  on('setTranslate', () => {\r\n    if (!swiper.params.virtual.enabled) return;\r\n    if (swiper.params.cssMode && !swiper._immediateVirtual) {\r\n      clearTimeout(cssModeTimeout);\r\n      cssModeTimeout = setTimeout(() => {\r\n        update();\r\n      }, 100);\r\n    } else {\r\n      update();\r\n    }\r\n  });\r\n  on('init update resize', () => {\r\n    if (!swiper.params.virtual.enabled) return;\r\n    if (swiper.params.cssMode) {\r\n      setCSSProperty(swiper.wrapperEl, '--swiper-virtual-size', `${swiper.virtualSize}px`);\r\n    }\r\n  });\r\n  Object.assign(swiper.virtual, {\r\n    appendSlide,\r\n    prependSlide,\r\n    removeSlide,\r\n    removeAllSlides,\r\n    update\r\n  });\r\n}\r\n\r\nexport { Virtual as default };\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}