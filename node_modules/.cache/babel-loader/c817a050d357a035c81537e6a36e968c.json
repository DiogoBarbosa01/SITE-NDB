{"ast":null,"code":"import { c as classesToSelector } from '../shared/classes-to-selector.mjs';\nimport { c as createElementIfNotDefined } from '../shared/create-element-if-not-defined.mjs';\nimport { m as makeElementsArray, h as elementOuterSize, i as elementIndex, s as setInnerHTML, b as elementParents } from '../shared/utils.mjs';\n\nfunction Pagination(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on,\n    emit\n  } = _ref;\n  const pfx = 'swiper-pagination';\n  extendParams({\n    pagination: {\n      el: null,\n      bulletElement: 'span',\n      clickable: false,\n      hideOnClick: false,\n      renderBullet: null,\n      renderProgressbar: null,\n      renderFraction: null,\n      renderCustom: null,\n      progressbarOpposite: false,\n      type: 'bullets',\n      // 'bullets' or 'progressbar' or 'fraction' or 'custom'\n      dynamicBullets: false,\n      dynamicMainBullets: 1,\n      formatFractionCurrent: number => number,\n      formatFractionTotal: number => number,\n      bulletClass: `${pfx}-bullet`,\n      bulletActiveClass: `${pfx}-bullet-active`,\n      modifierClass: `${pfx}-`,\n      currentClass: `${pfx}-current`,\n      totalClass: `${pfx}-total`,\n      hiddenClass: `${pfx}-hidden`,\n      progressbarFillClass: `${pfx}-progressbar-fill`,\n      progressbarOppositeClass: `${pfx}-progressbar-opposite`,\n      clickableClass: `${pfx}-clickable`,\n      lockClass: `${pfx}-lock`,\n      horizontalClass: `${pfx}-horizontal`,\n      verticalClass: `${pfx}-vertical`,\n      paginationDisabledClass: `${pfx}-disabled`\n    }\n  });\n  swiper.pagination = {\n    el: null,\n    bullets: []\n  };\n  let bulletSize;\n  let dynamicBulletIndex = 0;\n\n  function isPaginationDisabled() {\n    return !swiper.params.pagination.el || !swiper.pagination.el || Array.isArray(swiper.pagination.el) && swiper.pagination.el.length === 0;\n  }\n\n  function setSideBullets(bulletEl, position) {\n    const {\n      bulletActiveClass\n    } = swiper.params.pagination;\n    if (!bulletEl) return;\n    bulletEl = bulletEl[`${position === 'prev' ? 'previous' : 'next'}ElementSibling`];\n\n    if (bulletEl) {\n      bulletEl.classList.add(`${bulletActiveClass}-${position}`);\n      bulletEl = bulletEl[`${position === 'prev' ? 'previous' : 'next'}ElementSibling`];\n\n      if (bulletEl) {\n        bulletEl.classList.add(`${bulletActiveClass}-${position}-${position}`);\n      }\n    }\n  }\n\n  function getMoveDirection(prevIndex, nextIndex, length) {\n    prevIndex = prevIndex % length;\n    nextIndex = nextIndex % length;\n\n    if (nextIndex === prevIndex + 1) {\n      return 'next';\n    } else if (nextIndex === prevIndex - 1) {\n      return 'previous';\n    }\n\n    return;\n  }\n\n  function onBulletClick(e) {\n    const bulletEl = e.target.closest(classesToSelector(swiper.params.pagination.bulletClass));\n\n    if (!bulletEl) {\n      return;\n    }\n\n    e.preventDefault();\n    const index = elementIndex(bulletEl) * swiper.params.slidesPerGroup;\n\n    if (swiper.params.loop) {\n      if (swiper.realIndex === index) return;\n      const moveDirection = getMoveDirection(swiper.realIndex, index, swiper.slides.length);\n\n      if (moveDirection === 'next') {\n        swiper.slideNext();\n      } else if (moveDirection === 'previous') {\n        swiper.slidePrev();\n      } else {\n        swiper.slideToLoop(index);\n      }\n    } else {\n      swiper.slideTo(index);\n    }\n  }\n\n  function update() {\n    // Render || Update Pagination bullets/items\n    const rtl = swiper.rtl;\n    const params = swiper.params.pagination;\n    if (isPaginationDisabled()) return;\n    let el = swiper.pagination.el;\n    el = makeElementsArray(el); // Current/Total\n\n    let current;\n    let previousIndex;\n    const slidesLength = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.slides.length : swiper.slides.length;\n    const total = swiper.params.loop ? Math.ceil(slidesLength / swiper.params.slidesPerGroup) : swiper.snapGrid.length;\n\n    if (swiper.params.loop) {\n      previousIndex = swiper.previousRealIndex || 0;\n      current = swiper.params.slidesPerGroup > 1 ? Math.floor(swiper.realIndex / swiper.params.slidesPerGroup) : swiper.realIndex;\n    } else if (typeof swiper.snapIndex !== 'undefined') {\n      current = swiper.snapIndex;\n      previousIndex = swiper.previousSnapIndex;\n    } else {\n      previousIndex = swiper.previousIndex || 0;\n      current = swiper.activeIndex || 0;\n    } // Types\n\n\n    if (params.type === 'bullets' && swiper.pagination.bullets && swiper.pagination.bullets.length > 0) {\n      const bullets = swiper.pagination.bullets;\n      let firstIndex;\n      let lastIndex;\n      let midIndex;\n\n      if (params.dynamicBullets) {\n        bulletSize = elementOuterSize(bullets[0], swiper.isHorizontal() ? 'width' : 'height', true);\n        el.forEach(subEl => {\n          subEl.style[swiper.isHorizontal() ? 'width' : 'height'] = `${bulletSize * (params.dynamicMainBullets + 4)}px`;\n        });\n\n        if (params.dynamicMainBullets > 1 && previousIndex !== undefined) {\n          dynamicBulletIndex += current - (previousIndex || 0);\n\n          if (dynamicBulletIndex > params.dynamicMainBullets - 1) {\n            dynamicBulletIndex = params.dynamicMainBullets - 1;\n          } else if (dynamicBulletIndex < 0) {\n            dynamicBulletIndex = 0;\n          }\n        }\n\n        firstIndex = Math.max(current - dynamicBulletIndex, 0);\n        lastIndex = firstIndex + (Math.min(bullets.length, params.dynamicMainBullets) - 1);\n        midIndex = (lastIndex + firstIndex) / 2;\n      }\n\n      bullets.forEach(bulletEl => {\n        const classesToRemove = [...['', '-next', '-next-next', '-prev', '-prev-prev', '-main'].map(suffix => `${params.bulletActiveClass}${suffix}`)].map(s => typeof s === 'string' && s.includes(' ') ? s.split(' ') : s).flat();\n        bulletEl.classList.remove(...classesToRemove);\n      });\n\n      if (el.length > 1) {\n        bullets.forEach(bullet => {\n          const bulletIndex = elementIndex(bullet);\n\n          if (bulletIndex === current) {\n            bullet.classList.add(...params.bulletActiveClass.split(' '));\n          } else if (swiper.isElement) {\n            bullet.setAttribute('part', 'bullet');\n          }\n\n          if (params.dynamicBullets) {\n            if (bulletIndex >= firstIndex && bulletIndex <= lastIndex) {\n              bullet.classList.add(...`${params.bulletActiveClass}-main`.split(' '));\n            }\n\n            if (bulletIndex === firstIndex) {\n              setSideBullets(bullet, 'prev');\n            }\n\n            if (bulletIndex === lastIndex) {\n              setSideBullets(bullet, 'next');\n            }\n          }\n        });\n      } else {\n        const bullet = bullets[current];\n\n        if (bullet) {\n          bullet.classList.add(...params.bulletActiveClass.split(' '));\n        }\n\n        if (swiper.isElement) {\n          bullets.forEach((bulletEl, bulletIndex) => {\n            bulletEl.setAttribute('part', bulletIndex === current ? 'bullet-active' : 'bullet');\n          });\n        }\n\n        if (params.dynamicBullets) {\n          const firstDisplayedBullet = bullets[firstIndex];\n          const lastDisplayedBullet = bullets[lastIndex];\n\n          for (let i = firstIndex; i <= lastIndex; i += 1) {\n            if (bullets[i]) {\n              bullets[i].classList.add(...`${params.bulletActiveClass}-main`.split(' '));\n            }\n          }\n\n          setSideBullets(firstDisplayedBullet, 'prev');\n          setSideBullets(lastDisplayedBullet, 'next');\n        }\n      }\n\n      if (params.dynamicBullets) {\n        const dynamicBulletsLength = Math.min(bullets.length, params.dynamicMainBullets + 4);\n        const bulletsOffset = (bulletSize * dynamicBulletsLength - bulletSize) / 2 - midIndex * bulletSize;\n        const offsetProp = rtl ? 'right' : 'left';\n        bullets.forEach(bullet => {\n          bullet.style[swiper.isHorizontal() ? offsetProp : 'top'] = `${bulletsOffset}px`;\n        });\n      }\n    }\n\n    el.forEach((subEl, subElIndex) => {\n      if (params.type === 'fraction') {\n        subEl.querySelectorAll(classesToSelector(params.currentClass)).forEach(fractionEl => {\n          fractionEl.textContent = params.formatFractionCurrent(current + 1);\n        });\n        subEl.querySelectorAll(classesToSelector(params.totalClass)).forEach(totalEl => {\n          totalEl.textContent = params.formatFractionTotal(total);\n        });\n      }\n\n      if (params.type === 'progressbar') {\n        let progressbarDirection;\n\n        if (params.progressbarOpposite) {\n          progressbarDirection = swiper.isHorizontal() ? 'vertical' : 'horizontal';\n        } else {\n          progressbarDirection = swiper.isHorizontal() ? 'horizontal' : 'vertical';\n        }\n\n        const scale = (current + 1) / total;\n        let scaleX = 1;\n        let scaleY = 1;\n\n        if (progressbarDirection === 'horizontal') {\n          scaleX = scale;\n        } else {\n          scaleY = scale;\n        }\n\n        subEl.querySelectorAll(classesToSelector(params.progressbarFillClass)).forEach(progressEl => {\n          progressEl.style.transform = `translate3d(0,0,0) scaleX(${scaleX}) scaleY(${scaleY})`;\n          progressEl.style.transitionDuration = `${swiper.params.speed}ms`;\n        });\n      }\n\n      if (params.type === 'custom' && params.renderCustom) {\n        setInnerHTML(subEl, params.renderCustom(swiper, current + 1, total));\n        if (subElIndex === 0) emit('paginationRender', subEl);\n      } else {\n        if (subElIndex === 0) emit('paginationRender', subEl);\n        emit('paginationUpdate', subEl);\n      }\n\n      if (swiper.params.watchOverflow && swiper.enabled) {\n        subEl.classList[swiper.isLocked ? 'add' : 'remove'](params.lockClass);\n      }\n    });\n  }\n\n  function render() {\n    // Render Container\n    const params = swiper.params.pagination;\n    if (isPaginationDisabled()) return;\n    const slidesLength = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.slides.length : swiper.grid && swiper.params.grid.rows > 1 ? swiper.slides.length / Math.ceil(swiper.params.grid.rows) : swiper.slides.length;\n    let el = swiper.pagination.el;\n    el = makeElementsArray(el);\n    let paginationHTML = '';\n\n    if (params.type === 'bullets') {\n      let numberOfBullets = swiper.params.loop ? Math.ceil(slidesLength / swiper.params.slidesPerGroup) : swiper.snapGrid.length;\n\n      if (swiper.params.freeMode && swiper.params.freeMode.enabled && numberOfBullets > slidesLength) {\n        numberOfBullets = slidesLength;\n      }\n\n      for (let i = 0; i < numberOfBullets; i += 1) {\n        if (params.renderBullet) {\n          paginationHTML += params.renderBullet.call(swiper, i, params.bulletClass);\n        } else {\n          // prettier-ignore\n          paginationHTML += `<${params.bulletElement} ${swiper.isElement ? 'part=\"bullet\"' : ''} class=\"${params.bulletClass}\"></${params.bulletElement}>`;\n        }\n      }\n    }\n\n    if (params.type === 'fraction') {\n      if (params.renderFraction) {\n        paginationHTML = params.renderFraction.call(swiper, params.currentClass, params.totalClass);\n      } else {\n        paginationHTML = `<span class=\"${params.currentClass}\"></span>` + ' / ' + `<span class=\"${params.totalClass}\"></span>`;\n      }\n    }\n\n    if (params.type === 'progressbar') {\n      if (params.renderProgressbar) {\n        paginationHTML = params.renderProgressbar.call(swiper, params.progressbarFillClass);\n      } else {\n        paginationHTML = `<span class=\"${params.progressbarFillClass}\"></span>`;\n      }\n    }\n\n    swiper.pagination.bullets = [];\n    el.forEach(subEl => {\n      if (params.type !== 'custom') {\n        setInnerHTML(subEl, paginationHTML || '');\n      }\n\n      if (params.type === 'bullets') {\n        swiper.pagination.bullets.push(...subEl.querySelectorAll(classesToSelector(params.bulletClass)));\n      }\n    });\n\n    if (params.type !== 'custom') {\n      emit('paginationRender', el[0]);\n    }\n  }\n\n  function init() {\n    swiper.params.pagination = createElementIfNotDefined(swiper, swiper.originalParams.pagination, swiper.params.pagination, {\n      el: 'swiper-pagination'\n    });\n    const params = swiper.params.pagination;\n    if (!params.el) return;\n    let el;\n\n    if (typeof params.el === 'string' && swiper.isElement) {\n      el = swiper.el.querySelector(params.el);\n    }\n\n    if (!el && typeof params.el === 'string') {\n      el = [...document.querySelectorAll(params.el)];\n    }\n\n    if (!el) {\n      el = params.el;\n    }\n\n    if (!el || el.length === 0) return;\n\n    if (swiper.params.uniqueNavElements && typeof params.el === 'string' && Array.isArray(el) && el.length > 1) {\n      el = [...swiper.el.querySelectorAll(params.el)]; // check if it belongs to another nested Swiper\n\n      if (el.length > 1) {\n        el = el.find(subEl => {\n          if (elementParents(subEl, '.swiper')[0] !== swiper.el) return false;\n          return true;\n        });\n      }\n    }\n\n    if (Array.isArray(el) && el.length === 1) el = el[0];\n    Object.assign(swiper.pagination, {\n      el\n    });\n    el = makeElementsArray(el);\n    el.forEach(subEl => {\n      if (params.type === 'bullets' && params.clickable) {\n        subEl.classList.add(...(params.clickableClass || '').split(' '));\n      }\n\n      subEl.classList.add(params.modifierClass + params.type);\n      subEl.classList.add(swiper.isHorizontal() ? params.horizontalClass : params.verticalClass);\n\n      if (params.type === 'bullets' && params.dynamicBullets) {\n        subEl.classList.add(`${params.modifierClass}${params.type}-dynamic`);\n        dynamicBulletIndex = 0;\n\n        if (params.dynamicMainBullets < 1) {\n          params.dynamicMainBullets = 1;\n        }\n      }\n\n      if (params.type === 'progressbar' && params.progressbarOpposite) {\n        subEl.classList.add(params.progressbarOppositeClass);\n      }\n\n      if (params.clickable) {\n        subEl.addEventListener('click', onBulletClick);\n      }\n\n      if (!swiper.enabled) {\n        subEl.classList.add(params.lockClass);\n      }\n    });\n  }\n\n  function destroy() {\n    const params = swiper.params.pagination;\n    if (isPaginationDisabled()) return;\n    let el = swiper.pagination.el;\n\n    if (el) {\n      el = makeElementsArray(el);\n      el.forEach(subEl => {\n        subEl.classList.remove(params.hiddenClass);\n        subEl.classList.remove(params.modifierClass + params.type);\n        subEl.classList.remove(swiper.isHorizontal() ? params.horizontalClass : params.verticalClass);\n\n        if (params.clickable) {\n          subEl.classList.remove(...(params.clickableClass || '').split(' '));\n          subEl.removeEventListener('click', onBulletClick);\n        }\n      });\n    }\n\n    if (swiper.pagination.bullets) swiper.pagination.bullets.forEach(subEl => subEl.classList.remove(...params.bulletActiveClass.split(' ')));\n  }\n\n  on('changeDirection', () => {\n    if (!swiper.pagination || !swiper.pagination.el) return;\n    const params = swiper.params.pagination;\n    let {\n      el\n    } = swiper.pagination;\n    el = makeElementsArray(el);\n    el.forEach(subEl => {\n      subEl.classList.remove(params.horizontalClass, params.verticalClass);\n      subEl.classList.add(swiper.isHorizontal() ? params.horizontalClass : params.verticalClass);\n    });\n  });\n  on('init', () => {\n    if (swiper.params.pagination.enabled === false) {\n      // eslint-disable-next-line\n      disable();\n    } else {\n      init();\n      render();\n      update();\n    }\n  });\n  on('activeIndexChange', () => {\n    if (typeof swiper.snapIndex === 'undefined') {\n      update();\n    }\n  });\n  on('snapIndexChange', () => {\n    update();\n  });\n  on('snapGridLengthChange', () => {\n    render();\n    update();\n  });\n  on('destroy', () => {\n    destroy();\n  });\n  on('enable disable', () => {\n    let {\n      el\n    } = swiper.pagination;\n\n    if (el) {\n      el = makeElementsArray(el);\n      el.forEach(subEl => subEl.classList[swiper.enabled ? 'remove' : 'add'](swiper.params.pagination.lockClass));\n    }\n  });\n  on('lock unlock', () => {\n    update();\n  });\n  on('click', (_s, e) => {\n    const targetEl = e.target;\n    const el = makeElementsArray(swiper.pagination.el);\n\n    if (swiper.params.pagination.el && swiper.params.pagination.hideOnClick && el && el.length > 0 && !targetEl.classList.contains(swiper.params.pagination.bulletClass)) {\n      if (swiper.navigation && (swiper.navigation.nextEl && targetEl === swiper.navigation.nextEl || swiper.navigation.prevEl && targetEl === swiper.navigation.prevEl)) return;\n      const isHidden = el[0].classList.contains(swiper.params.pagination.hiddenClass);\n\n      if (isHidden === true) {\n        emit('paginationShow');\n      } else {\n        emit('paginationHide');\n      }\n\n      el.forEach(subEl => subEl.classList.toggle(swiper.params.pagination.hiddenClass));\n    }\n  });\n\n  const enable = () => {\n    swiper.el.classList.remove(swiper.params.pagination.paginationDisabledClass);\n    let {\n      el\n    } = swiper.pagination;\n\n    if (el) {\n      el = makeElementsArray(el);\n      el.forEach(subEl => subEl.classList.remove(swiper.params.pagination.paginationDisabledClass));\n    }\n\n    init();\n    render();\n    update();\n  };\n\n  const disable = () => {\n    swiper.el.classList.add(swiper.params.pagination.paginationDisabledClass);\n    let {\n      el\n    } = swiper.pagination;\n\n    if (el) {\n      el = makeElementsArray(el);\n      el.forEach(subEl => subEl.classList.add(swiper.params.pagination.paginationDisabledClass));\n    }\n\n    destroy();\n  };\n\n  Object.assign(swiper.pagination, {\n    enable,\n    disable,\n    render,\n    update,\n    init,\n    destroy\n  });\n}\n\nexport { Pagination as default };","map":{"version":3,"names":["c","classesToSelector","createElementIfNotDefined","m","makeElementsArray","h","elementOuterSize","i","elementIndex","s","setInnerHTML","b","elementParents","Pagination","_ref","swiper","extendParams","on","emit","pfx","pagination","el","bulletElement","clickable","hideOnClick","renderBullet","renderProgressbar","renderFraction","renderCustom","progressbarOpposite","type","dynamicBullets","dynamicMainBullets","formatFractionCurrent","number","formatFractionTotal","bulletClass","bulletActiveClass","modifierClass","currentClass","totalClass","hiddenClass","progressbarFillClass","progressbarOppositeClass","clickableClass","lockClass","horizontalClass","verticalClass","paginationDisabledClass","bullets","bulletSize","dynamicBulletIndex","isPaginationDisabled","params","Array","isArray","length","setSideBullets","bulletEl","position","classList","add","getMoveDirection","prevIndex","nextIndex","onBulletClick","e","target","closest","preventDefault","index","slidesPerGroup","loop","realIndex","moveDirection","slides","slideNext","slidePrev","slideToLoop","slideTo","update","rtl","current","previousIndex","slidesLength","virtual","enabled","total","Math","ceil","snapGrid","previousRealIndex","floor","snapIndex","previousSnapIndex","activeIndex","firstIndex","lastIndex","midIndex","isHorizontal","forEach","subEl","style","undefined","max","min","classesToRemove","map","suffix","includes","split","flat","remove","bullet","bulletIndex","isElement","setAttribute","firstDisplayedBullet","lastDisplayedBullet","dynamicBulletsLength","bulletsOffset","offsetProp","subElIndex","querySelectorAll","fractionEl","textContent","totalEl","progressbarDirection","scale","scaleX","scaleY","progressEl","transform","transitionDuration","speed","watchOverflow","isLocked","render","grid","rows","paginationHTML","numberOfBullets","freeMode","call","push","init","originalParams","querySelector","document","uniqueNavElements","find","Object","assign","addEventListener","destroy","removeEventListener","disable","_s","targetEl","contains","navigation","nextEl","prevEl","isHidden","toggle","enable","default"],"sources":["C:/Users/Diogo/Documents/GitHub/SITE-NDB/node_modules/swiper/modules/pagination.mjs"],"sourcesContent":["import { c as classesToSelector } from '../shared/classes-to-selector.mjs';\r\nimport { c as createElementIfNotDefined } from '../shared/create-element-if-not-defined.mjs';\r\nimport { m as makeElementsArray, h as elementOuterSize, i as elementIndex, s as setInnerHTML, b as elementParents } from '../shared/utils.mjs';\r\n\r\nfunction Pagination(_ref) {\r\n  let {\r\n    swiper,\r\n    extendParams,\r\n    on,\r\n    emit\r\n  } = _ref;\r\n  const pfx = 'swiper-pagination';\r\n  extendParams({\r\n    pagination: {\r\n      el: null,\r\n      bulletElement: 'span',\r\n      clickable: false,\r\n      hideOnClick: false,\r\n      renderBullet: null,\r\n      renderProgressbar: null,\r\n      renderFraction: null,\r\n      renderCustom: null,\r\n      progressbarOpposite: false,\r\n      type: 'bullets',\r\n      // 'bullets' or 'progressbar' or 'fraction' or 'custom'\r\n      dynamicBullets: false,\r\n      dynamicMainBullets: 1,\r\n      formatFractionCurrent: number => number,\r\n      formatFractionTotal: number => number,\r\n      bulletClass: `${pfx}-bullet`,\r\n      bulletActiveClass: `${pfx}-bullet-active`,\r\n      modifierClass: `${pfx}-`,\r\n      currentClass: `${pfx}-current`,\r\n      totalClass: `${pfx}-total`,\r\n      hiddenClass: `${pfx}-hidden`,\r\n      progressbarFillClass: `${pfx}-progressbar-fill`,\r\n      progressbarOppositeClass: `${pfx}-progressbar-opposite`,\r\n      clickableClass: `${pfx}-clickable`,\r\n      lockClass: `${pfx}-lock`,\r\n      horizontalClass: `${pfx}-horizontal`,\r\n      verticalClass: `${pfx}-vertical`,\r\n      paginationDisabledClass: `${pfx}-disabled`\r\n    }\r\n  });\r\n  swiper.pagination = {\r\n    el: null,\r\n    bullets: []\r\n  };\r\n  let bulletSize;\r\n  let dynamicBulletIndex = 0;\r\n  function isPaginationDisabled() {\r\n    return !swiper.params.pagination.el || !swiper.pagination.el || Array.isArray(swiper.pagination.el) && swiper.pagination.el.length === 0;\r\n  }\r\n  function setSideBullets(bulletEl, position) {\r\n    const {\r\n      bulletActiveClass\r\n    } = swiper.params.pagination;\r\n    if (!bulletEl) return;\r\n    bulletEl = bulletEl[`${position === 'prev' ? 'previous' : 'next'}ElementSibling`];\r\n    if (bulletEl) {\r\n      bulletEl.classList.add(`${bulletActiveClass}-${position}`);\r\n      bulletEl = bulletEl[`${position === 'prev' ? 'previous' : 'next'}ElementSibling`];\r\n      if (bulletEl) {\r\n        bulletEl.classList.add(`${bulletActiveClass}-${position}-${position}`);\r\n      }\r\n    }\r\n  }\r\n  function getMoveDirection(prevIndex, nextIndex, length) {\r\n    prevIndex = prevIndex % length;\r\n    nextIndex = nextIndex % length;\r\n    if (nextIndex === prevIndex + 1) {\r\n      return 'next';\r\n    } else if (nextIndex === prevIndex - 1) {\r\n      return 'previous';\r\n    }\r\n    return;\r\n  }\r\n  function onBulletClick(e) {\r\n    const bulletEl = e.target.closest(classesToSelector(swiper.params.pagination.bulletClass));\r\n    if (!bulletEl) {\r\n      return;\r\n    }\r\n    e.preventDefault();\r\n    const index = elementIndex(bulletEl) * swiper.params.slidesPerGroup;\r\n    if (swiper.params.loop) {\r\n      if (swiper.realIndex === index) return;\r\n      const moveDirection = getMoveDirection(swiper.realIndex, index, swiper.slides.length);\r\n      if (moveDirection === 'next') {\r\n        swiper.slideNext();\r\n      } else if (moveDirection === 'previous') {\r\n        swiper.slidePrev();\r\n      } else {\r\n        swiper.slideToLoop(index);\r\n      }\r\n    } else {\r\n      swiper.slideTo(index);\r\n    }\r\n  }\r\n  function update() {\r\n    // Render || Update Pagination bullets/items\r\n    const rtl = swiper.rtl;\r\n    const params = swiper.params.pagination;\r\n    if (isPaginationDisabled()) return;\r\n    let el = swiper.pagination.el;\r\n    el = makeElementsArray(el);\r\n    // Current/Total\r\n    let current;\r\n    let previousIndex;\r\n    const slidesLength = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.slides.length : swiper.slides.length;\r\n    const total = swiper.params.loop ? Math.ceil(slidesLength / swiper.params.slidesPerGroup) : swiper.snapGrid.length;\r\n    if (swiper.params.loop) {\r\n      previousIndex = swiper.previousRealIndex || 0;\r\n      current = swiper.params.slidesPerGroup > 1 ? Math.floor(swiper.realIndex / swiper.params.slidesPerGroup) : swiper.realIndex;\r\n    } else if (typeof swiper.snapIndex !== 'undefined') {\r\n      current = swiper.snapIndex;\r\n      previousIndex = swiper.previousSnapIndex;\r\n    } else {\r\n      previousIndex = swiper.previousIndex || 0;\r\n      current = swiper.activeIndex || 0;\r\n    }\r\n    // Types\r\n    if (params.type === 'bullets' && swiper.pagination.bullets && swiper.pagination.bullets.length > 0) {\r\n      const bullets = swiper.pagination.bullets;\r\n      let firstIndex;\r\n      let lastIndex;\r\n      let midIndex;\r\n      if (params.dynamicBullets) {\r\n        bulletSize = elementOuterSize(bullets[0], swiper.isHorizontal() ? 'width' : 'height', true);\r\n        el.forEach(subEl => {\r\n          subEl.style[swiper.isHorizontal() ? 'width' : 'height'] = `${bulletSize * (params.dynamicMainBullets + 4)}px`;\r\n        });\r\n        if (params.dynamicMainBullets > 1 && previousIndex !== undefined) {\r\n          dynamicBulletIndex += current - (previousIndex || 0);\r\n          if (dynamicBulletIndex > params.dynamicMainBullets - 1) {\r\n            dynamicBulletIndex = params.dynamicMainBullets - 1;\r\n          } else if (dynamicBulletIndex < 0) {\r\n            dynamicBulletIndex = 0;\r\n          }\r\n        }\r\n        firstIndex = Math.max(current - dynamicBulletIndex, 0);\r\n        lastIndex = firstIndex + (Math.min(bullets.length, params.dynamicMainBullets) - 1);\r\n        midIndex = (lastIndex + firstIndex) / 2;\r\n      }\r\n      bullets.forEach(bulletEl => {\r\n        const classesToRemove = [...['', '-next', '-next-next', '-prev', '-prev-prev', '-main'].map(suffix => `${params.bulletActiveClass}${suffix}`)].map(s => typeof s === 'string' && s.includes(' ') ? s.split(' ') : s).flat();\r\n        bulletEl.classList.remove(...classesToRemove);\r\n      });\r\n      if (el.length > 1) {\r\n        bullets.forEach(bullet => {\r\n          const bulletIndex = elementIndex(bullet);\r\n          if (bulletIndex === current) {\r\n            bullet.classList.add(...params.bulletActiveClass.split(' '));\r\n          } else if (swiper.isElement) {\r\n            bullet.setAttribute('part', 'bullet');\r\n          }\r\n          if (params.dynamicBullets) {\r\n            if (bulletIndex >= firstIndex && bulletIndex <= lastIndex) {\r\n              bullet.classList.add(...`${params.bulletActiveClass}-main`.split(' '));\r\n            }\r\n            if (bulletIndex === firstIndex) {\r\n              setSideBullets(bullet, 'prev');\r\n            }\r\n            if (bulletIndex === lastIndex) {\r\n              setSideBullets(bullet, 'next');\r\n            }\r\n          }\r\n        });\r\n      } else {\r\n        const bullet = bullets[current];\r\n        if (bullet) {\r\n          bullet.classList.add(...params.bulletActiveClass.split(' '));\r\n        }\r\n        if (swiper.isElement) {\r\n          bullets.forEach((bulletEl, bulletIndex) => {\r\n            bulletEl.setAttribute('part', bulletIndex === current ? 'bullet-active' : 'bullet');\r\n          });\r\n        }\r\n        if (params.dynamicBullets) {\r\n          const firstDisplayedBullet = bullets[firstIndex];\r\n          const lastDisplayedBullet = bullets[lastIndex];\r\n          for (let i = firstIndex; i <= lastIndex; i += 1) {\r\n            if (bullets[i]) {\r\n              bullets[i].classList.add(...`${params.bulletActiveClass}-main`.split(' '));\r\n            }\r\n          }\r\n          setSideBullets(firstDisplayedBullet, 'prev');\r\n          setSideBullets(lastDisplayedBullet, 'next');\r\n        }\r\n      }\r\n      if (params.dynamicBullets) {\r\n        const dynamicBulletsLength = Math.min(bullets.length, params.dynamicMainBullets + 4);\r\n        const bulletsOffset = (bulletSize * dynamicBulletsLength - bulletSize) / 2 - midIndex * bulletSize;\r\n        const offsetProp = rtl ? 'right' : 'left';\r\n        bullets.forEach(bullet => {\r\n          bullet.style[swiper.isHorizontal() ? offsetProp : 'top'] = `${bulletsOffset}px`;\r\n        });\r\n      }\r\n    }\r\n    el.forEach((subEl, subElIndex) => {\r\n      if (params.type === 'fraction') {\r\n        subEl.querySelectorAll(classesToSelector(params.currentClass)).forEach(fractionEl => {\r\n          fractionEl.textContent = params.formatFractionCurrent(current + 1);\r\n        });\r\n        subEl.querySelectorAll(classesToSelector(params.totalClass)).forEach(totalEl => {\r\n          totalEl.textContent = params.formatFractionTotal(total);\r\n        });\r\n      }\r\n      if (params.type === 'progressbar') {\r\n        let progressbarDirection;\r\n        if (params.progressbarOpposite) {\r\n          progressbarDirection = swiper.isHorizontal() ? 'vertical' : 'horizontal';\r\n        } else {\r\n          progressbarDirection = swiper.isHorizontal() ? 'horizontal' : 'vertical';\r\n        }\r\n        const scale = (current + 1) / total;\r\n        let scaleX = 1;\r\n        let scaleY = 1;\r\n        if (progressbarDirection === 'horizontal') {\r\n          scaleX = scale;\r\n        } else {\r\n          scaleY = scale;\r\n        }\r\n        subEl.querySelectorAll(classesToSelector(params.progressbarFillClass)).forEach(progressEl => {\r\n          progressEl.style.transform = `translate3d(0,0,0) scaleX(${scaleX}) scaleY(${scaleY})`;\r\n          progressEl.style.transitionDuration = `${swiper.params.speed}ms`;\r\n        });\r\n      }\r\n      if (params.type === 'custom' && params.renderCustom) {\r\n        setInnerHTML(subEl, params.renderCustom(swiper, current + 1, total));\r\n        if (subElIndex === 0) emit('paginationRender', subEl);\r\n      } else {\r\n        if (subElIndex === 0) emit('paginationRender', subEl);\r\n        emit('paginationUpdate', subEl);\r\n      }\r\n      if (swiper.params.watchOverflow && swiper.enabled) {\r\n        subEl.classList[swiper.isLocked ? 'add' : 'remove'](params.lockClass);\r\n      }\r\n    });\r\n  }\r\n  function render() {\r\n    // Render Container\r\n    const params = swiper.params.pagination;\r\n    if (isPaginationDisabled()) return;\r\n    const slidesLength = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.slides.length : swiper.grid && swiper.params.grid.rows > 1 ? swiper.slides.length / Math.ceil(swiper.params.grid.rows) : swiper.slides.length;\r\n    let el = swiper.pagination.el;\r\n    el = makeElementsArray(el);\r\n    let paginationHTML = '';\r\n    if (params.type === 'bullets') {\r\n      let numberOfBullets = swiper.params.loop ? Math.ceil(slidesLength / swiper.params.slidesPerGroup) : swiper.snapGrid.length;\r\n      if (swiper.params.freeMode && swiper.params.freeMode.enabled && numberOfBullets > slidesLength) {\r\n        numberOfBullets = slidesLength;\r\n      }\r\n      for (let i = 0; i < numberOfBullets; i += 1) {\r\n        if (params.renderBullet) {\r\n          paginationHTML += params.renderBullet.call(swiper, i, params.bulletClass);\r\n        } else {\r\n          // prettier-ignore\r\n          paginationHTML += `<${params.bulletElement} ${swiper.isElement ? 'part=\"bullet\"' : ''} class=\"${params.bulletClass}\"></${params.bulletElement}>`;\r\n        }\r\n      }\r\n    }\r\n    if (params.type === 'fraction') {\r\n      if (params.renderFraction) {\r\n        paginationHTML = params.renderFraction.call(swiper, params.currentClass, params.totalClass);\r\n      } else {\r\n        paginationHTML = `<span class=\"${params.currentClass}\"></span>` + ' / ' + `<span class=\"${params.totalClass}\"></span>`;\r\n      }\r\n    }\r\n    if (params.type === 'progressbar') {\r\n      if (params.renderProgressbar) {\r\n        paginationHTML = params.renderProgressbar.call(swiper, params.progressbarFillClass);\r\n      } else {\r\n        paginationHTML = `<span class=\"${params.progressbarFillClass}\"></span>`;\r\n      }\r\n    }\r\n    swiper.pagination.bullets = [];\r\n    el.forEach(subEl => {\r\n      if (params.type !== 'custom') {\r\n        setInnerHTML(subEl, paginationHTML || '');\r\n      }\r\n      if (params.type === 'bullets') {\r\n        swiper.pagination.bullets.push(...subEl.querySelectorAll(classesToSelector(params.bulletClass)));\r\n      }\r\n    });\r\n    if (params.type !== 'custom') {\r\n      emit('paginationRender', el[0]);\r\n    }\r\n  }\r\n  function init() {\r\n    swiper.params.pagination = createElementIfNotDefined(swiper, swiper.originalParams.pagination, swiper.params.pagination, {\r\n      el: 'swiper-pagination'\r\n    });\r\n    const params = swiper.params.pagination;\r\n    if (!params.el) return;\r\n    let el;\r\n    if (typeof params.el === 'string' && swiper.isElement) {\r\n      el = swiper.el.querySelector(params.el);\r\n    }\r\n    if (!el && typeof params.el === 'string') {\r\n      el = [...document.querySelectorAll(params.el)];\r\n    }\r\n    if (!el) {\r\n      el = params.el;\r\n    }\r\n    if (!el || el.length === 0) return;\r\n    if (swiper.params.uniqueNavElements && typeof params.el === 'string' && Array.isArray(el) && el.length > 1) {\r\n      el = [...swiper.el.querySelectorAll(params.el)];\r\n      // check if it belongs to another nested Swiper\r\n      if (el.length > 1) {\r\n        el = el.find(subEl => {\r\n          if (elementParents(subEl, '.swiper')[0] !== swiper.el) return false;\r\n          return true;\r\n        });\r\n      }\r\n    }\r\n    if (Array.isArray(el) && el.length === 1) el = el[0];\r\n    Object.assign(swiper.pagination, {\r\n      el\r\n    });\r\n    el = makeElementsArray(el);\r\n    el.forEach(subEl => {\r\n      if (params.type === 'bullets' && params.clickable) {\r\n        subEl.classList.add(...(params.clickableClass || '').split(' '));\r\n      }\r\n      subEl.classList.add(params.modifierClass + params.type);\r\n      subEl.classList.add(swiper.isHorizontal() ? params.horizontalClass : params.verticalClass);\r\n      if (params.type === 'bullets' && params.dynamicBullets) {\r\n        subEl.classList.add(`${params.modifierClass}${params.type}-dynamic`);\r\n        dynamicBulletIndex = 0;\r\n        if (params.dynamicMainBullets < 1) {\r\n          params.dynamicMainBullets = 1;\r\n        }\r\n      }\r\n      if (params.type === 'progressbar' && params.progressbarOpposite) {\r\n        subEl.classList.add(params.progressbarOppositeClass);\r\n      }\r\n      if (params.clickable) {\r\n        subEl.addEventListener('click', onBulletClick);\r\n      }\r\n      if (!swiper.enabled) {\r\n        subEl.classList.add(params.lockClass);\r\n      }\r\n    });\r\n  }\r\n  function destroy() {\r\n    const params = swiper.params.pagination;\r\n    if (isPaginationDisabled()) return;\r\n    let el = swiper.pagination.el;\r\n    if (el) {\r\n      el = makeElementsArray(el);\r\n      el.forEach(subEl => {\r\n        subEl.classList.remove(params.hiddenClass);\r\n        subEl.classList.remove(params.modifierClass + params.type);\r\n        subEl.classList.remove(swiper.isHorizontal() ? params.horizontalClass : params.verticalClass);\r\n        if (params.clickable) {\r\n          subEl.classList.remove(...(params.clickableClass || '').split(' '));\r\n          subEl.removeEventListener('click', onBulletClick);\r\n        }\r\n      });\r\n    }\r\n    if (swiper.pagination.bullets) swiper.pagination.bullets.forEach(subEl => subEl.classList.remove(...params.bulletActiveClass.split(' ')));\r\n  }\r\n  on('changeDirection', () => {\r\n    if (!swiper.pagination || !swiper.pagination.el) return;\r\n    const params = swiper.params.pagination;\r\n    let {\r\n      el\r\n    } = swiper.pagination;\r\n    el = makeElementsArray(el);\r\n    el.forEach(subEl => {\r\n      subEl.classList.remove(params.horizontalClass, params.verticalClass);\r\n      subEl.classList.add(swiper.isHorizontal() ? params.horizontalClass : params.verticalClass);\r\n    });\r\n  });\r\n  on('init', () => {\r\n    if (swiper.params.pagination.enabled === false) {\r\n      // eslint-disable-next-line\r\n      disable();\r\n    } else {\r\n      init();\r\n      render();\r\n      update();\r\n    }\r\n  });\r\n  on('activeIndexChange', () => {\r\n    if (typeof swiper.snapIndex === 'undefined') {\r\n      update();\r\n    }\r\n  });\r\n  on('snapIndexChange', () => {\r\n    update();\r\n  });\r\n  on('snapGridLengthChange', () => {\r\n    render();\r\n    update();\r\n  });\r\n  on('destroy', () => {\r\n    destroy();\r\n  });\r\n  on('enable disable', () => {\r\n    let {\r\n      el\r\n    } = swiper.pagination;\r\n    if (el) {\r\n      el = makeElementsArray(el);\r\n      el.forEach(subEl => subEl.classList[swiper.enabled ? 'remove' : 'add'](swiper.params.pagination.lockClass));\r\n    }\r\n  });\r\n  on('lock unlock', () => {\r\n    update();\r\n  });\r\n  on('click', (_s, e) => {\r\n    const targetEl = e.target;\r\n    const el = makeElementsArray(swiper.pagination.el);\r\n    if (swiper.params.pagination.el && swiper.params.pagination.hideOnClick && el && el.length > 0 && !targetEl.classList.contains(swiper.params.pagination.bulletClass)) {\r\n      if (swiper.navigation && (swiper.navigation.nextEl && targetEl === swiper.navigation.nextEl || swiper.navigation.prevEl && targetEl === swiper.navigation.prevEl)) return;\r\n      const isHidden = el[0].classList.contains(swiper.params.pagination.hiddenClass);\r\n      if (isHidden === true) {\r\n        emit('paginationShow');\r\n      } else {\r\n        emit('paginationHide');\r\n      }\r\n      el.forEach(subEl => subEl.classList.toggle(swiper.params.pagination.hiddenClass));\r\n    }\r\n  });\r\n  const enable = () => {\r\n    swiper.el.classList.remove(swiper.params.pagination.paginationDisabledClass);\r\n    let {\r\n      el\r\n    } = swiper.pagination;\r\n    if (el) {\r\n      el = makeElementsArray(el);\r\n      el.forEach(subEl => subEl.classList.remove(swiper.params.pagination.paginationDisabledClass));\r\n    }\r\n    init();\r\n    render();\r\n    update();\r\n  };\r\n  const disable = () => {\r\n    swiper.el.classList.add(swiper.params.pagination.paginationDisabledClass);\r\n    let {\r\n      el\r\n    } = swiper.pagination;\r\n    if (el) {\r\n      el = makeElementsArray(el);\r\n      el.forEach(subEl => subEl.classList.add(swiper.params.pagination.paginationDisabledClass));\r\n    }\r\n    destroy();\r\n  };\r\n  Object.assign(swiper.pagination, {\r\n    enable,\r\n    disable,\r\n    render,\r\n    update,\r\n    init,\r\n    destroy\r\n  });\r\n}\r\n\r\nexport { Pagination as default };\r\n"],"mappings":"AAAA,SAASA,CAAC,IAAIC,iBAAd,QAAuC,mCAAvC;AACA,SAASD,CAAC,IAAIE,yBAAd,QAA+C,6CAA/C;AACA,SAASC,CAAC,IAAIC,iBAAd,EAAiCC,CAAC,IAAIC,gBAAtC,EAAwDC,CAAC,IAAIC,YAA7D,EAA2EC,CAAC,IAAIC,YAAhF,EAA8FC,CAAC,IAAIC,cAAnG,QAAyH,qBAAzH;;AAEA,SAASC,UAAT,CAAoBC,IAApB,EAA0B;EACxB,IAAI;IACFC,MADE;IAEFC,YAFE;IAGFC,EAHE;IAIFC;EAJE,IAKAJ,IALJ;EAMA,MAAMK,GAAG,GAAG,mBAAZ;EACAH,YAAY,CAAC;IACXI,UAAU,EAAE;MACVC,EAAE,EAAE,IADM;MAEVC,aAAa,EAAE,MAFL;MAGVC,SAAS,EAAE,KAHD;MAIVC,WAAW,EAAE,KAJH;MAKVC,YAAY,EAAE,IALJ;MAMVC,iBAAiB,EAAE,IANT;MAOVC,cAAc,EAAE,IAPN;MAQVC,YAAY,EAAE,IARJ;MASVC,mBAAmB,EAAE,KATX;MAUVC,IAAI,EAAE,SAVI;MAWV;MACAC,cAAc,EAAE,KAZN;MAaVC,kBAAkB,EAAE,CAbV;MAcVC,qBAAqB,EAAEC,MAAM,IAAIA,MAdvB;MAeVC,mBAAmB,EAAED,MAAM,IAAIA,MAfrB;MAgBVE,WAAW,EAAG,GAAEjB,GAAI,SAhBV;MAiBVkB,iBAAiB,EAAG,GAAElB,GAAI,gBAjBhB;MAkBVmB,aAAa,EAAG,GAAEnB,GAAI,GAlBZ;MAmBVoB,YAAY,EAAG,GAAEpB,GAAI,UAnBX;MAoBVqB,UAAU,EAAG,GAAErB,GAAI,QApBT;MAqBVsB,WAAW,EAAG,GAAEtB,GAAI,SArBV;MAsBVuB,oBAAoB,EAAG,GAAEvB,GAAI,mBAtBnB;MAuBVwB,wBAAwB,EAAG,GAAExB,GAAI,uBAvBvB;MAwBVyB,cAAc,EAAG,GAAEzB,GAAI,YAxBb;MAyBV0B,SAAS,EAAG,GAAE1B,GAAI,OAzBR;MA0BV2B,eAAe,EAAG,GAAE3B,GAAI,aA1Bd;MA2BV4B,aAAa,EAAG,GAAE5B,GAAI,WA3BZ;MA4BV6B,uBAAuB,EAAG,GAAE7B,GAAI;IA5BtB;EADD,CAAD,CAAZ;EAgCAJ,MAAM,CAACK,UAAP,GAAoB;IAClBC,EAAE,EAAE,IADc;IAElB4B,OAAO,EAAE;EAFS,CAApB;EAIA,IAAIC,UAAJ;EACA,IAAIC,kBAAkB,GAAG,CAAzB;;EACA,SAASC,oBAAT,GAAgC;IAC9B,OAAO,CAACrC,MAAM,CAACsC,MAAP,CAAcjC,UAAd,CAAyBC,EAA1B,IAAgC,CAACN,MAAM,CAACK,UAAP,CAAkBC,EAAnD,IAAyDiC,KAAK,CAACC,OAAN,CAAcxC,MAAM,CAACK,UAAP,CAAkBC,EAAhC,KAAuCN,MAAM,CAACK,UAAP,CAAkBC,EAAlB,CAAqBmC,MAArB,KAAgC,CAAvI;EACD;;EACD,SAASC,cAAT,CAAwBC,QAAxB,EAAkCC,QAAlC,EAA4C;IAC1C,MAAM;MACJtB;IADI,IAEFtB,MAAM,CAACsC,MAAP,CAAcjC,UAFlB;IAGA,IAAI,CAACsC,QAAL,EAAe;IACfA,QAAQ,GAAGA,QAAQ,CAAE,GAAEC,QAAQ,KAAK,MAAb,GAAsB,UAAtB,GAAmC,MAAO,gBAA9C,CAAnB;;IACA,IAAID,QAAJ,EAAc;MACZA,QAAQ,CAACE,SAAT,CAAmBC,GAAnB,CAAwB,GAAExB,iBAAkB,IAAGsB,QAAS,EAAxD;MACAD,QAAQ,GAAGA,QAAQ,CAAE,GAAEC,QAAQ,KAAK,MAAb,GAAsB,UAAtB,GAAmC,MAAO,gBAA9C,CAAnB;;MACA,IAAID,QAAJ,EAAc;QACZA,QAAQ,CAACE,SAAT,CAAmBC,GAAnB,CAAwB,GAAExB,iBAAkB,IAAGsB,QAAS,IAAGA,QAAS,EAApE;MACD;IACF;EACF;;EACD,SAASG,gBAAT,CAA0BC,SAA1B,EAAqCC,SAArC,EAAgDR,MAAhD,EAAwD;IACtDO,SAAS,GAAGA,SAAS,GAAGP,MAAxB;IACAQ,SAAS,GAAGA,SAAS,GAAGR,MAAxB;;IACA,IAAIQ,SAAS,KAAKD,SAAS,GAAG,CAA9B,EAAiC;MAC/B,OAAO,MAAP;IACD,CAFD,MAEO,IAAIC,SAAS,KAAKD,SAAS,GAAG,CAA9B,EAAiC;MACtC,OAAO,UAAP;IACD;;IACD;EACD;;EACD,SAASE,aAAT,CAAuBC,CAAvB,EAA0B;IACxB,MAAMR,QAAQ,GAAGQ,CAAC,CAACC,MAAF,CAASC,OAAT,CAAiBnE,iBAAiB,CAACc,MAAM,CAACsC,MAAP,CAAcjC,UAAd,CAAyBgB,WAA1B,CAAlC,CAAjB;;IACA,IAAI,CAACsB,QAAL,EAAe;MACb;IACD;;IACDQ,CAAC,CAACG,cAAF;IACA,MAAMC,KAAK,GAAG9D,YAAY,CAACkD,QAAD,CAAZ,GAAyB3C,MAAM,CAACsC,MAAP,CAAckB,cAArD;;IACA,IAAIxD,MAAM,CAACsC,MAAP,CAAcmB,IAAlB,EAAwB;MACtB,IAAIzD,MAAM,CAAC0D,SAAP,KAAqBH,KAAzB,EAAgC;MAChC,MAAMI,aAAa,GAAGZ,gBAAgB,CAAC/C,MAAM,CAAC0D,SAAR,EAAmBH,KAAnB,EAA0BvD,MAAM,CAAC4D,MAAP,CAAcnB,MAAxC,CAAtC;;MACA,IAAIkB,aAAa,KAAK,MAAtB,EAA8B;QAC5B3D,MAAM,CAAC6D,SAAP;MACD,CAFD,MAEO,IAAIF,aAAa,KAAK,UAAtB,EAAkC;QACvC3D,MAAM,CAAC8D,SAAP;MACD,CAFM,MAEA;QACL9D,MAAM,CAAC+D,WAAP,CAAmBR,KAAnB;MACD;IACF,CAVD,MAUO;MACLvD,MAAM,CAACgE,OAAP,CAAeT,KAAf;IACD;EACF;;EACD,SAASU,MAAT,GAAkB;IAChB;IACA,MAAMC,GAAG,GAAGlE,MAAM,CAACkE,GAAnB;IACA,MAAM5B,MAAM,GAAGtC,MAAM,CAACsC,MAAP,CAAcjC,UAA7B;IACA,IAAIgC,oBAAoB,EAAxB,EAA4B;IAC5B,IAAI/B,EAAE,GAAGN,MAAM,CAACK,UAAP,CAAkBC,EAA3B;IACAA,EAAE,GAAGjB,iBAAiB,CAACiB,EAAD,CAAtB,CANgB,CAOhB;;IACA,IAAI6D,OAAJ;IACA,IAAIC,aAAJ;IACA,MAAMC,YAAY,GAAGrE,MAAM,CAACsE,OAAP,IAAkBtE,MAAM,CAACsC,MAAP,CAAcgC,OAAd,CAAsBC,OAAxC,GAAkDvE,MAAM,CAACsE,OAAP,CAAeV,MAAf,CAAsBnB,MAAxE,GAAiFzC,MAAM,CAAC4D,MAAP,CAAcnB,MAApH;IACA,MAAM+B,KAAK,GAAGxE,MAAM,CAACsC,MAAP,CAAcmB,IAAd,GAAqBgB,IAAI,CAACC,IAAL,CAAUL,YAAY,GAAGrE,MAAM,CAACsC,MAAP,CAAckB,cAAvC,CAArB,GAA8ExD,MAAM,CAAC2E,QAAP,CAAgBlC,MAA5G;;IACA,IAAIzC,MAAM,CAACsC,MAAP,CAAcmB,IAAlB,EAAwB;MACtBW,aAAa,GAAGpE,MAAM,CAAC4E,iBAAP,IAA4B,CAA5C;MACAT,OAAO,GAAGnE,MAAM,CAACsC,MAAP,CAAckB,cAAd,GAA+B,CAA/B,GAAmCiB,IAAI,CAACI,KAAL,CAAW7E,MAAM,CAAC0D,SAAP,GAAmB1D,MAAM,CAACsC,MAAP,CAAckB,cAA5C,CAAnC,GAAiGxD,MAAM,CAAC0D,SAAlH;IACD,CAHD,MAGO,IAAI,OAAO1D,MAAM,CAAC8E,SAAd,KAA4B,WAAhC,EAA6C;MAClDX,OAAO,GAAGnE,MAAM,CAAC8E,SAAjB;MACAV,aAAa,GAAGpE,MAAM,CAAC+E,iBAAvB;IACD,CAHM,MAGA;MACLX,aAAa,GAAGpE,MAAM,CAACoE,aAAP,IAAwB,CAAxC;MACAD,OAAO,GAAGnE,MAAM,CAACgF,WAAP,IAAsB,CAAhC;IACD,CArBe,CAsBhB;;;IACA,IAAI1C,MAAM,CAACvB,IAAP,KAAgB,SAAhB,IAA6Bf,MAAM,CAACK,UAAP,CAAkB6B,OAA/C,IAA0DlC,MAAM,CAACK,UAAP,CAAkB6B,OAAlB,CAA0BO,MAA1B,GAAmC,CAAjG,EAAoG;MAClG,MAAMP,OAAO,GAAGlC,MAAM,CAACK,UAAP,CAAkB6B,OAAlC;MACA,IAAI+C,UAAJ;MACA,IAAIC,SAAJ;MACA,IAAIC,QAAJ;;MACA,IAAI7C,MAAM,CAACtB,cAAX,EAA2B;QACzBmB,UAAU,GAAG5C,gBAAgB,CAAC2C,OAAO,CAAC,CAAD,CAAR,EAAalC,MAAM,CAACoF,YAAP,KAAwB,OAAxB,GAAkC,QAA/C,EAAyD,IAAzD,CAA7B;QACA9E,EAAE,CAAC+E,OAAH,CAAWC,KAAK,IAAI;UAClBA,KAAK,CAACC,KAAN,CAAYvF,MAAM,CAACoF,YAAP,KAAwB,OAAxB,GAAkC,QAA9C,IAA2D,GAAEjD,UAAU,IAAIG,MAAM,CAACrB,kBAAP,GAA4B,CAAhC,CAAmC,IAA1G;QACD,CAFD;;QAGA,IAAIqB,MAAM,CAACrB,kBAAP,GAA4B,CAA5B,IAAiCmD,aAAa,KAAKoB,SAAvD,EAAkE;UAChEpD,kBAAkB,IAAI+B,OAAO,IAAIC,aAAa,IAAI,CAArB,CAA7B;;UACA,IAAIhC,kBAAkB,GAAGE,MAAM,CAACrB,kBAAP,GAA4B,CAArD,EAAwD;YACtDmB,kBAAkB,GAAGE,MAAM,CAACrB,kBAAP,GAA4B,CAAjD;UACD,CAFD,MAEO,IAAImB,kBAAkB,GAAG,CAAzB,EAA4B;YACjCA,kBAAkB,GAAG,CAArB;UACD;QACF;;QACD6C,UAAU,GAAGR,IAAI,CAACgB,GAAL,CAAStB,OAAO,GAAG/B,kBAAnB,EAAuC,CAAvC,CAAb;QACA8C,SAAS,GAAGD,UAAU,IAAIR,IAAI,CAACiB,GAAL,CAASxD,OAAO,CAACO,MAAjB,EAAyBH,MAAM,CAACrB,kBAAhC,IAAsD,CAA1D,CAAtB;QACAkE,QAAQ,GAAG,CAACD,SAAS,GAAGD,UAAb,IAA2B,CAAtC;MACD;;MACD/C,OAAO,CAACmD,OAAR,CAAgB1C,QAAQ,IAAI;QAC1B,MAAMgD,eAAe,GAAG,CAAC,GAAG,CAAC,EAAD,EAAK,OAAL,EAAc,YAAd,EAA4B,OAA5B,EAAqC,YAArC,EAAmD,OAAnD,EAA4DC,GAA5D,CAAgEC,MAAM,IAAK,GAAEvD,MAAM,CAAChB,iBAAkB,GAAEuE,MAAO,EAA/G,CAAJ,EAAuHD,GAAvH,CAA2HlG,CAAC,IAAI,OAAOA,CAAP,KAAa,QAAb,IAAyBA,CAAC,CAACoG,QAAF,CAAW,GAAX,CAAzB,GAA2CpG,CAAC,CAACqG,KAAF,CAAQ,GAAR,CAA3C,GAA0DrG,CAA1L,EAA6LsG,IAA7L,EAAxB;QACArD,QAAQ,CAACE,SAAT,CAAmBoD,MAAnB,CAA0B,GAAGN,eAA7B;MACD,CAHD;;MAIA,IAAIrF,EAAE,CAACmC,MAAH,GAAY,CAAhB,EAAmB;QACjBP,OAAO,CAACmD,OAAR,CAAgBa,MAAM,IAAI;UACxB,MAAMC,WAAW,GAAG1G,YAAY,CAACyG,MAAD,CAAhC;;UACA,IAAIC,WAAW,KAAKhC,OAApB,EAA6B;YAC3B+B,MAAM,CAACrD,SAAP,CAAiBC,GAAjB,CAAqB,GAAGR,MAAM,CAAChB,iBAAP,CAAyByE,KAAzB,CAA+B,GAA/B,CAAxB;UACD,CAFD,MAEO,IAAI/F,MAAM,CAACoG,SAAX,EAAsB;YAC3BF,MAAM,CAACG,YAAP,CAAoB,MAApB,EAA4B,QAA5B;UACD;;UACD,IAAI/D,MAAM,CAACtB,cAAX,EAA2B;YACzB,IAAImF,WAAW,IAAIlB,UAAf,IAA6BkB,WAAW,IAAIjB,SAAhD,EAA2D;cACzDgB,MAAM,CAACrD,SAAP,CAAiBC,GAAjB,CAAqB,GAAI,GAAER,MAAM,CAAChB,iBAAkB,OAA5B,CAAmCyE,KAAnC,CAAyC,GAAzC,CAAxB;YACD;;YACD,IAAII,WAAW,KAAKlB,UAApB,EAAgC;cAC9BvC,cAAc,CAACwD,MAAD,EAAS,MAAT,CAAd;YACD;;YACD,IAAIC,WAAW,KAAKjB,SAApB,EAA+B;cAC7BxC,cAAc,CAACwD,MAAD,EAAS,MAAT,CAAd;YACD;UACF;QACF,CAlBD;MAmBD,CApBD,MAoBO;QACL,MAAMA,MAAM,GAAGhE,OAAO,CAACiC,OAAD,CAAtB;;QACA,IAAI+B,MAAJ,EAAY;UACVA,MAAM,CAACrD,SAAP,CAAiBC,GAAjB,CAAqB,GAAGR,MAAM,CAAChB,iBAAP,CAAyByE,KAAzB,CAA+B,GAA/B,CAAxB;QACD;;QACD,IAAI/F,MAAM,CAACoG,SAAX,EAAsB;UACpBlE,OAAO,CAACmD,OAAR,CAAgB,CAAC1C,QAAD,EAAWwD,WAAX,KAA2B;YACzCxD,QAAQ,CAAC0D,YAAT,CAAsB,MAAtB,EAA8BF,WAAW,KAAKhC,OAAhB,GAA0B,eAA1B,GAA4C,QAA1E;UACD,CAFD;QAGD;;QACD,IAAI7B,MAAM,CAACtB,cAAX,EAA2B;UACzB,MAAMsF,oBAAoB,GAAGpE,OAAO,CAAC+C,UAAD,CAApC;UACA,MAAMsB,mBAAmB,GAAGrE,OAAO,CAACgD,SAAD,CAAnC;;UACA,KAAK,IAAI1F,CAAC,GAAGyF,UAAb,EAAyBzF,CAAC,IAAI0F,SAA9B,EAAyC1F,CAAC,IAAI,CAA9C,EAAiD;YAC/C,IAAI0C,OAAO,CAAC1C,CAAD,CAAX,EAAgB;cACd0C,OAAO,CAAC1C,CAAD,CAAP,CAAWqD,SAAX,CAAqBC,GAArB,CAAyB,GAAI,GAAER,MAAM,CAAChB,iBAAkB,OAA5B,CAAmCyE,KAAnC,CAAyC,GAAzC,CAA5B;YACD;UACF;;UACDrD,cAAc,CAAC4D,oBAAD,EAAuB,MAAvB,CAAd;UACA5D,cAAc,CAAC6D,mBAAD,EAAsB,MAAtB,CAAd;QACD;MACF;;MACD,IAAIjE,MAAM,CAACtB,cAAX,EAA2B;QACzB,MAAMwF,oBAAoB,GAAG/B,IAAI,CAACiB,GAAL,CAASxD,OAAO,CAACO,MAAjB,EAAyBH,MAAM,CAACrB,kBAAP,GAA4B,CAArD,CAA7B;QACA,MAAMwF,aAAa,GAAG,CAACtE,UAAU,GAAGqE,oBAAb,GAAoCrE,UAArC,IAAmD,CAAnD,GAAuDgD,QAAQ,GAAGhD,UAAxF;QACA,MAAMuE,UAAU,GAAGxC,GAAG,GAAG,OAAH,GAAa,MAAnC;QACAhC,OAAO,CAACmD,OAAR,CAAgBa,MAAM,IAAI;UACxBA,MAAM,CAACX,KAAP,CAAavF,MAAM,CAACoF,YAAP,KAAwBsB,UAAxB,GAAqC,KAAlD,IAA4D,GAAED,aAAc,IAA5E;QACD,CAFD;MAGD;IACF;;IACDnG,EAAE,CAAC+E,OAAH,CAAW,CAACC,KAAD,EAAQqB,UAAR,KAAuB;MAChC,IAAIrE,MAAM,CAACvB,IAAP,KAAgB,UAApB,EAAgC;QAC9BuE,KAAK,CAACsB,gBAAN,CAAuB1H,iBAAiB,CAACoD,MAAM,CAACd,YAAR,CAAxC,EAA+D6D,OAA/D,CAAuEwB,UAAU,IAAI;UACnFA,UAAU,CAACC,WAAX,GAAyBxE,MAAM,CAACpB,qBAAP,CAA6BiD,OAAO,GAAG,CAAvC,CAAzB;QACD,CAFD;QAGAmB,KAAK,CAACsB,gBAAN,CAAuB1H,iBAAiB,CAACoD,MAAM,CAACb,UAAR,CAAxC,EAA6D4D,OAA7D,CAAqE0B,OAAO,IAAI;UAC9EA,OAAO,CAACD,WAAR,GAAsBxE,MAAM,CAAClB,mBAAP,CAA2BoD,KAA3B,CAAtB;QACD,CAFD;MAGD;;MACD,IAAIlC,MAAM,CAACvB,IAAP,KAAgB,aAApB,EAAmC;QACjC,IAAIiG,oBAAJ;;QACA,IAAI1E,MAAM,CAACxB,mBAAX,EAAgC;UAC9BkG,oBAAoB,GAAGhH,MAAM,CAACoF,YAAP,KAAwB,UAAxB,GAAqC,YAA5D;QACD,CAFD,MAEO;UACL4B,oBAAoB,GAAGhH,MAAM,CAACoF,YAAP,KAAwB,YAAxB,GAAuC,UAA9D;QACD;;QACD,MAAM6B,KAAK,GAAG,CAAC9C,OAAO,GAAG,CAAX,IAAgBK,KAA9B;QACA,IAAI0C,MAAM,GAAG,CAAb;QACA,IAAIC,MAAM,GAAG,CAAb;;QACA,IAAIH,oBAAoB,KAAK,YAA7B,EAA2C;UACzCE,MAAM,GAAGD,KAAT;QACD,CAFD,MAEO;UACLE,MAAM,GAAGF,KAAT;QACD;;QACD3B,KAAK,CAACsB,gBAAN,CAAuB1H,iBAAiB,CAACoD,MAAM,CAACX,oBAAR,CAAxC,EAAuE0D,OAAvE,CAA+E+B,UAAU,IAAI;UAC3FA,UAAU,CAAC7B,KAAX,CAAiB8B,SAAjB,GAA8B,6BAA4BH,MAAO,YAAWC,MAAO,GAAnF;UACAC,UAAU,CAAC7B,KAAX,CAAiB+B,kBAAjB,GAAuC,GAAEtH,MAAM,CAACsC,MAAP,CAAciF,KAAM,IAA7D;QACD,CAHD;MAID;;MACD,IAAIjF,MAAM,CAACvB,IAAP,KAAgB,QAAhB,IAA4BuB,MAAM,CAACzB,YAAvC,EAAqD;QACnDlB,YAAY,CAAC2F,KAAD,EAAQhD,MAAM,CAACzB,YAAP,CAAoBb,MAApB,EAA4BmE,OAAO,GAAG,CAAtC,EAAyCK,KAAzC,CAAR,CAAZ;QACA,IAAImC,UAAU,KAAK,CAAnB,EAAsBxG,IAAI,CAAC,kBAAD,EAAqBmF,KAArB,CAAJ;MACvB,CAHD,MAGO;QACL,IAAIqB,UAAU,KAAK,CAAnB,EAAsBxG,IAAI,CAAC,kBAAD,EAAqBmF,KAArB,CAAJ;QACtBnF,IAAI,CAAC,kBAAD,EAAqBmF,KAArB,CAAJ;MACD;;MACD,IAAItF,MAAM,CAACsC,MAAP,CAAckF,aAAd,IAA+BxH,MAAM,CAACuE,OAA1C,EAAmD;QACjDe,KAAK,CAACzC,SAAN,CAAgB7C,MAAM,CAACyH,QAAP,GAAkB,KAAlB,GAA0B,QAA1C,EAAoDnF,MAAM,CAACR,SAA3D;MACD;IACF,CAvCD;EAwCD;;EACD,SAAS4F,MAAT,GAAkB;IAChB;IACA,MAAMpF,MAAM,GAAGtC,MAAM,CAACsC,MAAP,CAAcjC,UAA7B;IACA,IAAIgC,oBAAoB,EAAxB,EAA4B;IAC5B,MAAMgC,YAAY,GAAGrE,MAAM,CAACsE,OAAP,IAAkBtE,MAAM,CAACsC,MAAP,CAAcgC,OAAd,CAAsBC,OAAxC,GAAkDvE,MAAM,CAACsE,OAAP,CAAeV,MAAf,CAAsBnB,MAAxE,GAAiFzC,MAAM,CAAC2H,IAAP,IAAe3H,MAAM,CAACsC,MAAP,CAAcqF,IAAd,CAAmBC,IAAnB,GAA0B,CAAzC,GAA6C5H,MAAM,CAAC4D,MAAP,CAAcnB,MAAd,GAAuBgC,IAAI,CAACC,IAAL,CAAU1E,MAAM,CAACsC,MAAP,CAAcqF,IAAd,CAAmBC,IAA7B,CAApE,GAAyG5H,MAAM,CAAC4D,MAAP,CAAcnB,MAA7N;IACA,IAAInC,EAAE,GAAGN,MAAM,CAACK,UAAP,CAAkBC,EAA3B;IACAA,EAAE,GAAGjB,iBAAiB,CAACiB,EAAD,CAAtB;IACA,IAAIuH,cAAc,GAAG,EAArB;;IACA,IAAIvF,MAAM,CAACvB,IAAP,KAAgB,SAApB,EAA+B;MAC7B,IAAI+G,eAAe,GAAG9H,MAAM,CAACsC,MAAP,CAAcmB,IAAd,GAAqBgB,IAAI,CAACC,IAAL,CAAUL,YAAY,GAAGrE,MAAM,CAACsC,MAAP,CAAckB,cAAvC,CAArB,GAA8ExD,MAAM,CAAC2E,QAAP,CAAgBlC,MAApH;;MACA,IAAIzC,MAAM,CAACsC,MAAP,CAAcyF,QAAd,IAA0B/H,MAAM,CAACsC,MAAP,CAAcyF,QAAd,CAAuBxD,OAAjD,IAA4DuD,eAAe,GAAGzD,YAAlF,EAAgG;QAC9FyD,eAAe,GAAGzD,YAAlB;MACD;;MACD,KAAK,IAAI7E,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGsI,eAApB,EAAqCtI,CAAC,IAAI,CAA1C,EAA6C;QAC3C,IAAI8C,MAAM,CAAC5B,YAAX,EAAyB;UACvBmH,cAAc,IAAIvF,MAAM,CAAC5B,YAAP,CAAoBsH,IAApB,CAAyBhI,MAAzB,EAAiCR,CAAjC,EAAoC8C,MAAM,CAACjB,WAA3C,CAAlB;QACD,CAFD,MAEO;UACL;UACAwG,cAAc,IAAK,IAAGvF,MAAM,CAAC/B,aAAc,IAAGP,MAAM,CAACoG,SAAP,GAAmB,eAAnB,GAAqC,EAAG,WAAU9D,MAAM,CAACjB,WAAY,OAAMiB,MAAM,CAAC/B,aAAc,GAA9I;QACD;MACF;IACF;;IACD,IAAI+B,MAAM,CAACvB,IAAP,KAAgB,UAApB,EAAgC;MAC9B,IAAIuB,MAAM,CAAC1B,cAAX,EAA2B;QACzBiH,cAAc,GAAGvF,MAAM,CAAC1B,cAAP,CAAsBoH,IAAtB,CAA2BhI,MAA3B,EAAmCsC,MAAM,CAACd,YAA1C,EAAwDc,MAAM,CAACb,UAA/D,CAAjB;MACD,CAFD,MAEO;QACLoG,cAAc,GAAI,gBAAevF,MAAM,CAACd,YAAa,WAApC,GAAiD,KAAjD,GAA0D,gBAAec,MAAM,CAACb,UAAW,WAA5G;MACD;IACF;;IACD,IAAIa,MAAM,CAACvB,IAAP,KAAgB,aAApB,EAAmC;MACjC,IAAIuB,MAAM,CAAC3B,iBAAX,EAA8B;QAC5BkH,cAAc,GAAGvF,MAAM,CAAC3B,iBAAP,CAAyBqH,IAAzB,CAA8BhI,MAA9B,EAAsCsC,MAAM,CAACX,oBAA7C,CAAjB;MACD,CAFD,MAEO;QACLkG,cAAc,GAAI,gBAAevF,MAAM,CAACX,oBAAqB,WAA7D;MACD;IACF;;IACD3B,MAAM,CAACK,UAAP,CAAkB6B,OAAlB,GAA4B,EAA5B;IACA5B,EAAE,CAAC+E,OAAH,CAAWC,KAAK,IAAI;MAClB,IAAIhD,MAAM,CAACvB,IAAP,KAAgB,QAApB,EAA8B;QAC5BpB,YAAY,CAAC2F,KAAD,EAAQuC,cAAc,IAAI,EAA1B,CAAZ;MACD;;MACD,IAAIvF,MAAM,CAACvB,IAAP,KAAgB,SAApB,EAA+B;QAC7Bf,MAAM,CAACK,UAAP,CAAkB6B,OAAlB,CAA0B+F,IAA1B,CAA+B,GAAG3C,KAAK,CAACsB,gBAAN,CAAuB1H,iBAAiB,CAACoD,MAAM,CAACjB,WAAR,CAAxC,CAAlC;MACD;IACF,CAPD;;IAQA,IAAIiB,MAAM,CAACvB,IAAP,KAAgB,QAApB,EAA8B;MAC5BZ,IAAI,CAAC,kBAAD,EAAqBG,EAAE,CAAC,CAAD,CAAvB,CAAJ;IACD;EACF;;EACD,SAAS4H,IAAT,GAAgB;IACdlI,MAAM,CAACsC,MAAP,CAAcjC,UAAd,GAA2BlB,yBAAyB,CAACa,MAAD,EAASA,MAAM,CAACmI,cAAP,CAAsB9H,UAA/B,EAA2CL,MAAM,CAACsC,MAAP,CAAcjC,UAAzD,EAAqE;MACvHC,EAAE,EAAE;IADmH,CAArE,CAApD;IAGA,MAAMgC,MAAM,GAAGtC,MAAM,CAACsC,MAAP,CAAcjC,UAA7B;IACA,IAAI,CAACiC,MAAM,CAAChC,EAAZ,EAAgB;IAChB,IAAIA,EAAJ;;IACA,IAAI,OAAOgC,MAAM,CAAChC,EAAd,KAAqB,QAArB,IAAiCN,MAAM,CAACoG,SAA5C,EAAuD;MACrD9F,EAAE,GAAGN,MAAM,CAACM,EAAP,CAAU8H,aAAV,CAAwB9F,MAAM,CAAChC,EAA/B,CAAL;IACD;;IACD,IAAI,CAACA,EAAD,IAAO,OAAOgC,MAAM,CAAChC,EAAd,KAAqB,QAAhC,EAA0C;MACxCA,EAAE,GAAG,CAAC,GAAG+H,QAAQ,CAACzB,gBAAT,CAA0BtE,MAAM,CAAChC,EAAjC,CAAJ,CAAL;IACD;;IACD,IAAI,CAACA,EAAL,EAAS;MACPA,EAAE,GAAGgC,MAAM,CAAChC,EAAZ;IACD;;IACD,IAAI,CAACA,EAAD,IAAOA,EAAE,CAACmC,MAAH,KAAc,CAAzB,EAA4B;;IAC5B,IAAIzC,MAAM,CAACsC,MAAP,CAAcgG,iBAAd,IAAmC,OAAOhG,MAAM,CAAChC,EAAd,KAAqB,QAAxD,IAAoEiC,KAAK,CAACC,OAAN,CAAclC,EAAd,CAApE,IAAyFA,EAAE,CAACmC,MAAH,GAAY,CAAzG,EAA4G;MAC1GnC,EAAE,GAAG,CAAC,GAAGN,MAAM,CAACM,EAAP,CAAUsG,gBAAV,CAA2BtE,MAAM,CAAChC,EAAlC,CAAJ,CAAL,CAD0G,CAE1G;;MACA,IAAIA,EAAE,CAACmC,MAAH,GAAY,CAAhB,EAAmB;QACjBnC,EAAE,GAAGA,EAAE,CAACiI,IAAH,CAAQjD,KAAK,IAAI;UACpB,IAAIzF,cAAc,CAACyF,KAAD,EAAQ,SAAR,CAAd,CAAiC,CAAjC,MAAwCtF,MAAM,CAACM,EAAnD,EAAuD,OAAO,KAAP;UACvD,OAAO,IAAP;QACD,CAHI,CAAL;MAID;IACF;;IACD,IAAIiC,KAAK,CAACC,OAAN,CAAclC,EAAd,KAAqBA,EAAE,CAACmC,MAAH,KAAc,CAAvC,EAA0CnC,EAAE,GAAGA,EAAE,CAAC,CAAD,CAAP;IAC1CkI,MAAM,CAACC,MAAP,CAAczI,MAAM,CAACK,UAArB,EAAiC;MAC/BC;IAD+B,CAAjC;IAGAA,EAAE,GAAGjB,iBAAiB,CAACiB,EAAD,CAAtB;IACAA,EAAE,CAAC+E,OAAH,CAAWC,KAAK,IAAI;MAClB,IAAIhD,MAAM,CAACvB,IAAP,KAAgB,SAAhB,IAA6BuB,MAAM,CAAC9B,SAAxC,EAAmD;QACjD8E,KAAK,CAACzC,SAAN,CAAgBC,GAAhB,CAAoB,GAAG,CAACR,MAAM,CAACT,cAAP,IAAyB,EAA1B,EAA8BkE,KAA9B,CAAoC,GAApC,CAAvB;MACD;;MACDT,KAAK,CAACzC,SAAN,CAAgBC,GAAhB,CAAoBR,MAAM,CAACf,aAAP,GAAuBe,MAAM,CAACvB,IAAlD;MACAuE,KAAK,CAACzC,SAAN,CAAgBC,GAAhB,CAAoB9C,MAAM,CAACoF,YAAP,KAAwB9C,MAAM,CAACP,eAA/B,GAAiDO,MAAM,CAACN,aAA5E;;MACA,IAAIM,MAAM,CAACvB,IAAP,KAAgB,SAAhB,IAA6BuB,MAAM,CAACtB,cAAxC,EAAwD;QACtDsE,KAAK,CAACzC,SAAN,CAAgBC,GAAhB,CAAqB,GAAER,MAAM,CAACf,aAAc,GAAEe,MAAM,CAACvB,IAAK,UAA1D;QACAqB,kBAAkB,GAAG,CAArB;;QACA,IAAIE,MAAM,CAACrB,kBAAP,GAA4B,CAAhC,EAAmC;UACjCqB,MAAM,CAACrB,kBAAP,GAA4B,CAA5B;QACD;MACF;;MACD,IAAIqB,MAAM,CAACvB,IAAP,KAAgB,aAAhB,IAAiCuB,MAAM,CAACxB,mBAA5C,EAAiE;QAC/DwE,KAAK,CAACzC,SAAN,CAAgBC,GAAhB,CAAoBR,MAAM,CAACV,wBAA3B;MACD;;MACD,IAAIU,MAAM,CAAC9B,SAAX,EAAsB;QACpB8E,KAAK,CAACoD,gBAAN,CAAuB,OAAvB,EAAgCxF,aAAhC;MACD;;MACD,IAAI,CAAClD,MAAM,CAACuE,OAAZ,EAAqB;QACnBe,KAAK,CAACzC,SAAN,CAAgBC,GAAhB,CAAoBR,MAAM,CAACR,SAA3B;MACD;IACF,CAtBD;EAuBD;;EACD,SAAS6G,OAAT,GAAmB;IACjB,MAAMrG,MAAM,GAAGtC,MAAM,CAACsC,MAAP,CAAcjC,UAA7B;IACA,IAAIgC,oBAAoB,EAAxB,EAA4B;IAC5B,IAAI/B,EAAE,GAAGN,MAAM,CAACK,UAAP,CAAkBC,EAA3B;;IACA,IAAIA,EAAJ,EAAQ;MACNA,EAAE,GAAGjB,iBAAiB,CAACiB,EAAD,CAAtB;MACAA,EAAE,CAAC+E,OAAH,CAAWC,KAAK,IAAI;QAClBA,KAAK,CAACzC,SAAN,CAAgBoD,MAAhB,CAAuB3D,MAAM,CAACZ,WAA9B;QACA4D,KAAK,CAACzC,SAAN,CAAgBoD,MAAhB,CAAuB3D,MAAM,CAACf,aAAP,GAAuBe,MAAM,CAACvB,IAArD;QACAuE,KAAK,CAACzC,SAAN,CAAgBoD,MAAhB,CAAuBjG,MAAM,CAACoF,YAAP,KAAwB9C,MAAM,CAACP,eAA/B,GAAiDO,MAAM,CAACN,aAA/E;;QACA,IAAIM,MAAM,CAAC9B,SAAX,EAAsB;UACpB8E,KAAK,CAACzC,SAAN,CAAgBoD,MAAhB,CAAuB,GAAG,CAAC3D,MAAM,CAACT,cAAP,IAAyB,EAA1B,EAA8BkE,KAA9B,CAAoC,GAApC,CAA1B;UACAT,KAAK,CAACsD,mBAAN,CAA0B,OAA1B,EAAmC1F,aAAnC;QACD;MACF,CARD;IASD;;IACD,IAAIlD,MAAM,CAACK,UAAP,CAAkB6B,OAAtB,EAA+BlC,MAAM,CAACK,UAAP,CAAkB6B,OAAlB,CAA0BmD,OAA1B,CAAkCC,KAAK,IAAIA,KAAK,CAACzC,SAAN,CAAgBoD,MAAhB,CAAuB,GAAG3D,MAAM,CAAChB,iBAAP,CAAyByE,KAAzB,CAA+B,GAA/B,CAA1B,CAA3C;EAChC;;EACD7F,EAAE,CAAC,iBAAD,EAAoB,MAAM;IAC1B,IAAI,CAACF,MAAM,CAACK,UAAR,IAAsB,CAACL,MAAM,CAACK,UAAP,CAAkBC,EAA7C,EAAiD;IACjD,MAAMgC,MAAM,GAAGtC,MAAM,CAACsC,MAAP,CAAcjC,UAA7B;IACA,IAAI;MACFC;IADE,IAEAN,MAAM,CAACK,UAFX;IAGAC,EAAE,GAAGjB,iBAAiB,CAACiB,EAAD,CAAtB;IACAA,EAAE,CAAC+E,OAAH,CAAWC,KAAK,IAAI;MAClBA,KAAK,CAACzC,SAAN,CAAgBoD,MAAhB,CAAuB3D,MAAM,CAACP,eAA9B,EAA+CO,MAAM,CAACN,aAAtD;MACAsD,KAAK,CAACzC,SAAN,CAAgBC,GAAhB,CAAoB9C,MAAM,CAACoF,YAAP,KAAwB9C,MAAM,CAACP,eAA/B,GAAiDO,MAAM,CAACN,aAA5E;IACD,CAHD;EAID,CAXC,CAAF;EAYA9B,EAAE,CAAC,MAAD,EAAS,MAAM;IACf,IAAIF,MAAM,CAACsC,MAAP,CAAcjC,UAAd,CAAyBkE,OAAzB,KAAqC,KAAzC,EAAgD;MAC9C;MACAsE,OAAO;IACR,CAHD,MAGO;MACLX,IAAI;MACJR,MAAM;MACNzD,MAAM;IACP;EACF,CATC,CAAF;EAUA/D,EAAE,CAAC,mBAAD,EAAsB,MAAM;IAC5B,IAAI,OAAOF,MAAM,CAAC8E,SAAd,KAA4B,WAAhC,EAA6C;MAC3Cb,MAAM;IACP;EACF,CAJC,CAAF;EAKA/D,EAAE,CAAC,iBAAD,EAAoB,MAAM;IAC1B+D,MAAM;EACP,CAFC,CAAF;EAGA/D,EAAE,CAAC,sBAAD,EAAyB,MAAM;IAC/BwH,MAAM;IACNzD,MAAM;EACP,CAHC,CAAF;EAIA/D,EAAE,CAAC,SAAD,EAAY,MAAM;IAClByI,OAAO;EACR,CAFC,CAAF;EAGAzI,EAAE,CAAC,gBAAD,EAAmB,MAAM;IACzB,IAAI;MACFI;IADE,IAEAN,MAAM,CAACK,UAFX;;IAGA,IAAIC,EAAJ,EAAQ;MACNA,EAAE,GAAGjB,iBAAiB,CAACiB,EAAD,CAAtB;MACAA,EAAE,CAAC+E,OAAH,CAAWC,KAAK,IAAIA,KAAK,CAACzC,SAAN,CAAgB7C,MAAM,CAACuE,OAAP,GAAiB,QAAjB,GAA4B,KAA5C,EAAmDvE,MAAM,CAACsC,MAAP,CAAcjC,UAAd,CAAyByB,SAA5E,CAApB;IACD;EACF,CARC,CAAF;EASA5B,EAAE,CAAC,aAAD,EAAgB,MAAM;IACtB+D,MAAM;EACP,CAFC,CAAF;EAGA/D,EAAE,CAAC,OAAD,EAAU,CAAC4I,EAAD,EAAK3F,CAAL,KAAW;IACrB,MAAM4F,QAAQ,GAAG5F,CAAC,CAACC,MAAnB;IACA,MAAM9C,EAAE,GAAGjB,iBAAiB,CAACW,MAAM,CAACK,UAAP,CAAkBC,EAAnB,CAA5B;;IACA,IAAIN,MAAM,CAACsC,MAAP,CAAcjC,UAAd,CAAyBC,EAAzB,IAA+BN,MAAM,CAACsC,MAAP,CAAcjC,UAAd,CAAyBI,WAAxD,IAAuEH,EAAvE,IAA6EA,EAAE,CAACmC,MAAH,GAAY,CAAzF,IAA8F,CAACsG,QAAQ,CAAClG,SAAT,CAAmBmG,QAAnB,CAA4BhJ,MAAM,CAACsC,MAAP,CAAcjC,UAAd,CAAyBgB,WAArD,CAAnG,EAAsK;MACpK,IAAIrB,MAAM,CAACiJ,UAAP,KAAsBjJ,MAAM,CAACiJ,UAAP,CAAkBC,MAAlB,IAA4BH,QAAQ,KAAK/I,MAAM,CAACiJ,UAAP,CAAkBC,MAA3D,IAAqElJ,MAAM,CAACiJ,UAAP,CAAkBE,MAAlB,IAA4BJ,QAAQ,KAAK/I,MAAM,CAACiJ,UAAP,CAAkBE,MAAtJ,CAAJ,EAAmK;MACnK,MAAMC,QAAQ,GAAG9I,EAAE,CAAC,CAAD,CAAF,CAAMuC,SAAN,CAAgBmG,QAAhB,CAAyBhJ,MAAM,CAACsC,MAAP,CAAcjC,UAAd,CAAyBqB,WAAlD,CAAjB;;MACA,IAAI0H,QAAQ,KAAK,IAAjB,EAAuB;QACrBjJ,IAAI,CAAC,gBAAD,CAAJ;MACD,CAFD,MAEO;QACLA,IAAI,CAAC,gBAAD,CAAJ;MACD;;MACDG,EAAE,CAAC+E,OAAH,CAAWC,KAAK,IAAIA,KAAK,CAACzC,SAAN,CAAgBwG,MAAhB,CAAuBrJ,MAAM,CAACsC,MAAP,CAAcjC,UAAd,CAAyBqB,WAAhD,CAApB;IACD;EACF,CAbC,CAAF;;EAcA,MAAM4H,MAAM,GAAG,MAAM;IACnBtJ,MAAM,CAACM,EAAP,CAAUuC,SAAV,CAAoBoD,MAApB,CAA2BjG,MAAM,CAACsC,MAAP,CAAcjC,UAAd,CAAyB4B,uBAApD;IACA,IAAI;MACF3B;IADE,IAEAN,MAAM,CAACK,UAFX;;IAGA,IAAIC,EAAJ,EAAQ;MACNA,EAAE,GAAGjB,iBAAiB,CAACiB,EAAD,CAAtB;MACAA,EAAE,CAAC+E,OAAH,CAAWC,KAAK,IAAIA,KAAK,CAACzC,SAAN,CAAgBoD,MAAhB,CAAuBjG,MAAM,CAACsC,MAAP,CAAcjC,UAAd,CAAyB4B,uBAAhD,CAApB;IACD;;IACDiG,IAAI;IACJR,MAAM;IACNzD,MAAM;EACP,CAZD;;EAaA,MAAM4E,OAAO,GAAG,MAAM;IACpB7I,MAAM,CAACM,EAAP,CAAUuC,SAAV,CAAoBC,GAApB,CAAwB9C,MAAM,CAACsC,MAAP,CAAcjC,UAAd,CAAyB4B,uBAAjD;IACA,IAAI;MACF3B;IADE,IAEAN,MAAM,CAACK,UAFX;;IAGA,IAAIC,EAAJ,EAAQ;MACNA,EAAE,GAAGjB,iBAAiB,CAACiB,EAAD,CAAtB;MACAA,EAAE,CAAC+E,OAAH,CAAWC,KAAK,IAAIA,KAAK,CAACzC,SAAN,CAAgBC,GAAhB,CAAoB9C,MAAM,CAACsC,MAAP,CAAcjC,UAAd,CAAyB4B,uBAA7C,CAApB;IACD;;IACD0G,OAAO;EACR,CAVD;;EAWAH,MAAM,CAACC,MAAP,CAAczI,MAAM,CAACK,UAArB,EAAiC;IAC/BiJ,MAD+B;IAE/BT,OAF+B;IAG/BnB,MAH+B;IAI/BzD,MAJ+B;IAK/BiE,IAL+B;IAM/BS;EAN+B,CAAjC;AAQD;;AAED,SAAS7I,UAAU,IAAIyJ,OAAvB"},"metadata":{},"sourceType":"module"}